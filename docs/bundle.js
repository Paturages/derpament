var derpament=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function s(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function a(t){return null==t?"":t}function i(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function h(){return m(" ")}function g(){return m("")}function $(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.data!==e&&(t.data=e)}let b;function w(t){b=t}function x(){if(!b)throw new Error("Function called outside component initialization");return b}function k(t){x().$$.on_mount.push(t)}function C(){const t=x();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const o=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);s.slice().forEach(e=>{e.call(t,o)})}}}const I=[],L=[],S=[],j=[],E=Promise.resolve();let _=!1;function R(t){S.push(t)}let N=!1;const O=new Set;function F(){if(!N){N=!0;do{for(let t=0;t<I.length;t+=1){const e=I[t];w(e),H(e.$$)}for(I.length=0;L.length;)L.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];O.has(e)||(O.add(e),e())}S.length=0}while(I.length);for(;j.length;)j.pop()();_=!1,N=!1,O.clear()}}function H(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(R)}}const B=new Set;let A;function q(){A={r:0,c:[],p:A}}function M(){A.r||o(A.c),A=A.p}function z(t,e){t&&t.i&&(B.delete(t),t.i(e))}function P(t,e,n,s){if(t&&t.o){if(B.has(t))return;B.add(t),A.c.push(()=>{B.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function T(t,e){P(t,1,1,()=>{e.delete(t.key)})}function D(t,e){const n={},s={},o={$$scope:1};let r=t.length;for(;r--;){const l=t[r],c=e[r];if(c){for(const t in l)t in c||(s[t]=1);for(const t in c)o[t]||(n[t]=c[t],o[t]=1);t[r]=c}else for(const t in l)o[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}function V(t){return"object"==typeof t&&null!==t?t:{}}function W(t){t&&t.c()}function G(t,e,s){const{fragment:l,on_mount:c,on_destroy:a,after_update:i}=t.$$;l&&l.m(e,s),R(()=>{const e=c.map(n).filter(r);a?a.push(...e):o(e),t.$$.on_mount=[]}),i.forEach(R)}function J(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K(t,e){-1===t.$$.dirty[0]&&(I.push(t),_||(_=!0,E.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(e,n,r,l,c,a,i=[-1]){const u=b;w(e);const d=n.props||{},p=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:i};let m=!1;if(p.ctx=r?r(e,d,(t,n,...s)=>{const o=s.length?s[0]:n;return p.ctx&&c(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),m&&K(e,t)),n}):[],p.update(),m=!0,o(p.before_update),p.fragment=!!l&&l(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();n.intro&&z(e.$$.fragment),G(e,n.target,n.anchor),F()}w(u)}class U{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const X=[];function Y(e,n=t){let s;const o=[];function r(t){if(l(e,t)&&(e=t,s)){const t=!X.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),X.push(n,e)}if(t){for(let t=0;t<X.length;t+=2)X[t][0](X[t+1]);X.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(l,c=t){const a=[l,c];return o.push(a),1===o.length&&(s=n(r)||t),l(e),()=>{const t=o.indexOf(a);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}const Z=Y([]),tt=Y(null),et=Y(null);function nt(e){let n,s,o,r,l,c,a,d;return{c(){n=p("div"),s=p("div"),o=p("a"),r=m("<Â Back"),l=h(),c=p("input"),y(o,"href",e[0]),y(c,"type","search"),y(c,"placeholder","Filter on players"),y(c,"class","svelte-g01nhw"),y(s,"class","inner svelte-g01nhw"),y(n,"class","root svelte-g01nhw")},m(t,f){u(t,n,f),i(n,s),i(s,o),i(o,r),i(s,l),i(s,c),a||(d=$(c,"input",e[1]),a=!0)},p(t,[e]){1&e&&y(o,"href",t[0])},i:t,o:t,d(t){t&&f(n),a=!1,d()}}}function st(t,e,n){const s=C();let o,{backHref:r}=e;return t.$set=t=>{"backHref"in t&&n(0,r=t.backHref)},[r,function(t){o&&clearTimeout(o),o=setTimeout(()=>s("search",t.target.value),500)}]}class ot extends U{constructor(t){super(),Q(this,t,st,nt,l,{backHref:0})}}function rt(e){let n,s,o,r,l,c,a,d,g,$,b=e[0].name+"";return{c(){n=p("div"),s=p("div"),o=m(e[2]),r=m(".\n    "),l=p("a"),c=m(b),d=h(),g=p("div"),$=m(e[1]),y(l,"href",a="https://osu.ppy.sh/users/"+e[0].id),y(l,"target","_blank"),y(s,"class","name svelte-22sxgw"),y(g,"class","roll svelte-22sxgw"),y(n,"class","root svelte-22sxgw")},m(t,e){u(t,n,e),i(n,s),i(s,o),i(s,r),i(s,l),i(l,c),i(n,d),i(n,g),i(g,$)},p(t,[e]){4&e&&v(o,t[2]),1&e&&b!==(b=t[0].name+"")&&v(c,b),1&e&&a!==(a="https://osu.ppy.sh/users/"+t[0].id)&&y(l,"href",a),2&e&&v($,t[1])},i:t,o:t,d(t){t&&f(n)}}}function lt(t,e,n){let{player:s}=e,{roll:o}=e,{index:r}=e;return t.$set=t=>{"player"in t&&n(0,s=t.player),"roll"in t&&n(1,o=t.roll),"index"in t&&n(2,r=t.index)},[s,o,r]}class ct extends U{constructor(t){super(),Q(this,t,lt,rt,l,{player:0,roll:1,index:2})}}function at(t,e,n){const s=t.slice();return s[9]=e[n],s}function it(t){let e,n,s=t[2],o=[];for(let e=0;e<s.length;e+=1)o[e]=ft(at(t,s,e));const r=t=>P(o[t],1,1,()=>{o[t]=null});return{c(){e=p("div");for(let t=0;t<o.length;t+=1)o[t].c();y(e,"class","rolls svelte-wqk9m7")},m(t,s){u(t,e,s);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,n){if(5&n){let l;for(s=t[2],l=0;l<s.length;l+=1){const r=at(t,s,l);o[l]?(o[l].p(r,n),z(o[l],1)):(o[l]=ft(r),o[l].c(),z(o[l],1),o[l].m(e,null))}for(q(),l=s.length;l<o.length;l+=1)r(l);M()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)z(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)P(o[t]);n=!1},d(t){t&&f(e),d(o,t)}}}function ut(t){let e;const n=new ct({props:{index:t[9].index,player:t[9].player,roll:t[9].value}});return{c(){W(n.$$.fragment)},m(t,s){G(n,t,s),e=!0},p(t,e){const s={};4&e&&(s.index=t[9].index),4&e&&(s.player=t[9].player),4&e&&(s.roll=t[9].value),n.$set(s)},i(t){e||(z(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function ft(t){let e,n,s=!t[0]||t[9].player.name.toLowerCase().includes(t[0].toLowerCase()),o=s&&ut(t);return{c(){o&&o.c(),e=g()},m(t,s){o&&o.m(t,s),u(t,e,s),n=!0},p(t,n){5&n&&(s=!t[0]||t[9].player.name.toLowerCase().includes(t[0].toLowerCase())),s?o?(o.p(t,n),5&n&&z(o,1)):(o=ut(t),o.c(),z(o,1),o.m(e.parentNode,e)):o&&(q(),P(o,1,1,()=>{o=null}),M())},i(t){n||(z(o),n=!0)},o(t){P(o),n=!1},d(t){o&&o.d(t),t&&f(e)}}}function dt(t){let e,n,s,o,r,l,c,a,d=t[1]?"Hide":"Show",g=t[1]&&it(t);return{c(){e=p("div"),n=p("button"),s=m(d),o=m(" rolls"),r=h(),g&&g.c(),y(e,"class","root")},m(f,d){u(f,e,d),i(e,n),i(n,s),i(n,o),i(e,r),g&&g.m(e,null),l=!0,c||(a=$(n,"click",t[3]),c=!0)},p(t,[n]){(!l||2&n)&&d!==(d=t[1]?"Hide":"Show")&&v(s,d),t[1]?g?(g.p(t,n),2&n&&z(g,1)):(g=it(t),g.c(),z(g,1),g.m(e,null)):g&&(q(),P(g,1,1,()=>{g=null}),M())},i(t){l||(z(g),l=!0)},o(t){P(g),l=!1},d(t){t&&f(e),g&&g.d(),c=!1,a()}}}function pt(t,e,n){let{players:s}=e,{rolls:o}=e,{filter:r}=e,l=!0,c=[],a=0,i=0;Object.keys(o).forEach(t=>{o[t].forEach(e=>{++a,i+=e,c.push({player:s[t],value:e})})});(i/a).toFixed(2);return c=c.sort((t,e)=>t.value<e.value?1:-1),c.forEach((t,e)=>{t.index=e&&c[e-1].value===t.value?c[e-1].index:e+1}),t.$set=t=>{"players"in t&&n(4,s=t.players),"rolls"in t&&n(5,o=t.rolls),"filter"in t&&n(0,r=t.filter)},[r,l,c,function(){n(1,l=!l)},s,o]}class mt extends U{constructor(t){super(),Q(this,t,pt,dt,l,{players:4,rolls:5,filter:0})}}function ht(e){let n,s,o,r,l,c,a,d,g,$,b,w,x,k,C,I,L,S,j,E=e[0].name+"",_=e[2].join(", ")+"";return{c(){n=p("div"),s=p("div"),o=m(e[4]),r=m(".\n    "),l=p("a"),c=m(E),d=h(),g=p("div"),$=p("div"),b=m("Sum of scores: "),w=m(e[3]),x=h(),k=p("div"),C=m("Ranks: "),I=m(_),L=h(),S=p("div"),j=m(e[1]),y(l,"href",a="https://osu.ppy.sh/users/"+e[0].id),y(l,"target","_blank"),y(s,"class","name svelte-1k0oiei"),y($,"class","combo"),y(k,"class","counts svelte-1k0oiei"),y(g,"class","info svelte-1k0oiei"),y(S,"class","score svelte-1k0oiei"),y(n,"class","root svelte-1k0oiei")},m(t,e){u(t,n,e),i(n,s),i(s,o),i(s,r),i(s,l),i(l,c),i(n,d),i(n,g),i(g,$),i($,b),i($,w),i(g,x),i(g,k),i(k,C),i(k,I),i(n,L),i(n,S),i(S,j)},p(t,[e]){16&e&&v(o,t[4]),1&e&&E!==(E=t[0].name+"")&&v(c,E),1&e&&a!==(a="https://osu.ppy.sh/users/"+t[0].id)&&y(l,"href",a),8&e&&v(w,t[3]),4&e&&_!==(_=t[2].join(", ")+"")&&v(I,_),2&e&&v(j,t[1])},i:t,o:t,d(t){t&&f(n)}}}function gt(t,e,n){let{player:s}=e,{totalRank:o}=e,{ranks:r}=e,{totalScore:l}=e,{index:c}=e;return t.$set=t=>{"player"in t&&n(0,s=t.player),"totalRank"in t&&n(1,o=t.totalRank),"ranks"in t&&n(2,r=t.ranks),"totalScore"in t&&n(3,l=t.totalScore),"index"in t&&n(4,c=t.index)},[s,o,r,l,c]}class $t extends U{constructor(t){super(),Q(this,t,gt,ht,l,{player:0,totalRank:1,ranks:2,totalScore:3,index:4})}}function yt(t,e,n){const s=t.slice();return s[10]=e[n],s[12]=n,s}function vt(t){let e,n,s=t[3],o=[];for(let e=0;e<s.length;e+=1)o[e]=wt(yt(t,s,e));const r=t=>P(o[t],1,1,()=>{o[t]=null});return{c(){e=p("div");for(let t=0;t<o.length;t+=1)o[t].c();y(e,"class","scores svelte-106ytg1")},m(t,s){u(t,e,s);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,n){if(9&n){let l;for(s=t[3],l=0;l<s.length;l+=1){const r=yt(t,s,l);o[l]?(o[l].p(r,n),z(o[l],1)):(o[l]=wt(r),o[l].c(),z(o[l],1),o[l].m(e,null))}for(q(),l=s.length;l<o.length;l+=1)r(l);M()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)z(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)P(o[t]);n=!1},d(t){t&&f(e),d(o,t)}}}function bt(t){let n;const s=[{index:t[12]+1},t[10]];let o={};for(let t=0;t<s.length;t+=1)o=e(o,s[t]);const r=new $t({props:o});return{c(){W(r.$$.fragment)},m(t,e){G(r,t,e),n=!0},p(t,e){const n=8&e?D(s,[s[0],V(t[10])]):{};r.$set(n)},i(t){n||(z(r.$$.fragment,t),n=!0)},o(t){P(r.$$.fragment,t),n=!1},d(t){J(r,t)}}}function wt(t){let e,n,s=!t[0]||t[10].player.name.toLowerCase().includes(t[0].toLowerCase()),o=s&&bt(t);return{c(){o&&o.c(),e=g()},m(t,s){o&&o.m(t,s),u(t,e,s),n=!0},p(t,n){1&n&&(s=!t[0]||t[10].player.name.toLowerCase().includes(t[0].toLowerCase())),s?o?(o.p(t,n),1&n&&z(o,1)):(o=bt(t),o.c(),z(o,1),o.m(e.parentNode,e)):o&&(q(),P(o,1,1,()=>{o=null}),M())},i(t){n||(z(o),n=!0)},o(t){P(o),n=!1},d(t){o&&o.d(t),t&&f(e)}}}function xt(t){let e,n,s,o,r,l,c,a,d,g,b,w,x,k,C=(t[2]?t[2].toFixed(0):"N/A")+"",I=t[1]?"Hide":"Show",L=t[1]&&vt(t);return{c(){e=p("div"),n=p("div"),s=p("div"),o=m("Average score: "),r=p("b"),l=m(C),c=h(),a=p("button"),d=m(I),g=m(" scores"),b=h(),L&&L.c(),y(s,"class","average"),y(n,"class","stats svelte-106ytg1"),y(e,"class","root")},m(f,p){u(f,e,p),i(e,n),i(n,s),i(s,o),i(s,r),i(r,l),i(e,c),i(e,a),i(a,d),i(a,g),i(e,b),L&&L.m(e,null),w=!0,x||(k=$(a,"click",t[4]),x=!0)},p(t,[n]){(!w||4&n)&&C!==(C=(t[2]?t[2].toFixed(0):"N/A")+"")&&v(l,C),(!w||2&n)&&I!==(I=t[1]?"Hide":"Show")&&v(d,I),t[1]?L?(L.p(t,n),2&n&&z(L,1)):(L=vt(t),L.c(),z(L,1),L.m(e,null)):L&&(q(),P(L,1,1,()=>{L=null}),M())},i(t){w||(z(L),w=!0)},o(t){P(L),w=!1},d(t){t&&f(e),L&&L.d(),x=!1,k()}}}function kt(t,e,n){let{players:s}=e,{maps:o}=e,{filter:r}=e,l=!0;const c={},a={};let i=0,u=0;o.forEach(t=>{a[t.beatmapId]=[],t.scores.forEach(e=>{s[e.userId]&&(c[e.userId]||(c[e.userId]={player:s[e.userId],totalScore:0,scores:[]}),a[t.beatmapId].includes(e.userId)||a[t.beatmapId].push(e.userId),n(2,i+=e.score),c[e.userId].scores.push(e),c[e.userId].totalScore+=e.score)}),u+=t.scores.length}),i/=u,Object.keys(c).forEach(t=>{c[t].ranks=[],c[t].totalRank=0;let e=!1;o.forEach(n=>{if(e)return;const s=a[n.beatmapId].indexOf(t)+1;s||(e=!0),c[t].ranks.push(s),c[t].totalRank+=s}),e&&delete c[t]});const f=Object.values(c).sort((t,e)=>t.totalRank==e.totalRank?0:t.totalRank<e.totalRank?-1:1);return t.$set=t=>{"players"in t&&n(5,s=t.players),"maps"in t&&n(6,o=t.maps),"filter"in t&&n(0,r=t.filter)},[r,l,i,f,function(){n(1,l=!l)},s,o]}class Ct extends U{constructor(t){super(),Q(this,t,kt,xt,l,{players:5,maps:6,filter:0})}}function It(e){let n,s,o,r,l,c,a,d,g,$,b,w,x,k,C,I,L,S,j,E,_,R,N,O,F,H,B,A,q,M,z=e[0].name+"",P=e[5].toFixed(2)+"",T=e[3].max+"",D=e[3][300]+"",V=e[3][200]+"",W=e[3][100]+"",G=e[3][50]+"",J=e[3].miss+"",K=e[1].toLocaleString()+"";return{c(){n=p("div"),s=p("div"),o=m(e[4]),r=m(".\n    "),l=p("a"),c=m(z),d=h(),g=p("div"),$=p("div"),b=m(P),w=m("%, "),x=m(e[2]),k=m(" combo"),C=h(),I=p("div"),L=m(T),S=m(" |\n      "),j=m(D),E=m(" |\n      "),_=m(V),R=m(" |\n      "),N=m(W),O=m(" |\n      "),F=m(G),H=m(" |\n      "),B=m(J),A=h(),q=p("div"),M=m(K),y(l,"href",a="https://osu.ppy.sh/users/"+e[0].id),y(l,"target","_blank"),y(s,"class","name svelte-1k0oiei"),y($,"class","combo"),y(I,"class","counts svelte-1k0oiei"),y(g,"class","info svelte-1k0oiei"),y(q,"class","score svelte-1k0oiei"),y(n,"class","root svelte-1k0oiei")},m(t,e){u(t,n,e),i(n,s),i(s,o),i(s,r),i(s,l),i(l,c),i(n,d),i(n,g),i(g,$),i($,b),i($,w),i($,x),i($,k),i(g,C),i(g,I),i(I,L),i(I,S),i(I,j),i(I,E),i(I,_),i(I,R),i(I,N),i(I,O),i(I,F),i(I,H),i(I,B),i(n,A),i(n,q),i(q,M)},p(t,[e]){16&e&&v(o,t[4]),1&e&&z!==(z=t[0].name+"")&&v(c,z),1&e&&a!==(a="https://osu.ppy.sh/users/"+t[0].id)&&y(l,"href",a),4&e&&v(x,t[2]),8&e&&T!==(T=t[3].max+"")&&v(L,T),8&e&&D!==(D=t[3][300]+"")&&v(j,D),8&e&&V!==(V=t[3][200]+"")&&v(_,V),8&e&&W!==(W=t[3][100]+"")&&v(N,W),8&e&&G!==(G=t[3][50]+"")&&v(F,G),8&e&&J!==(J=t[3].miss+"")&&v(B,J),2&e&&K!==(K=t[1].toLocaleString()+"")&&v(M,K)},i:t,o:t,d(t){t&&f(n)}}}function Lt(t,e,n){let{player:s}=e,{score:o}=e,{combo:r}=e,{counts:l}=e,{index:c}=e;const a=l.max+l[300]+l[200]+l[100]+l[50]+l.miss,i=(305*l.max+300*l[300]+200*l[200]+100*l[100]+50*l[50])/(3.05*a);return t.$set=t=>{"player"in t&&n(0,s=t.player),"score"in t&&n(1,o=t.score),"combo"in t&&n(2,r=t.combo),"counts"in t&&n(3,l=t.counts),"index"in t&&n(4,c=t.index)},[s,o,r,l,c,i]}class St extends U{constructor(t){super(),Q(this,t,Lt,It,l,{player:0,score:1,combo:2,counts:3,index:4})}}function jt(t,e,n){const s=t.slice();return s[17]=e[n],s[16]=n,s}function Et(t,e,n){const s=t.slice();return s[14]=e[n].player,s[5]=e[n].scores,s[16]=n,s}function _t(t,e,n){const s=t.slice();return s[19]=e[n],s[16]=n,s}function Rt(t){let e,n,s,o,r,l,c,a,g,$,b,w,x,k,C,I,L,S,j,E,_,R,N,O,F,H,B,A,q,M,z=(100*t[2]/t[3]).toFixed(2)+"",P=t[1].length+"",T=(100*t[1].length/t[3]).toFixed(2)+"",D=t[1].length+t[2]+"",V=(100*(t[1].length+t[2])/t[3]).toFixed(2)+"",W=t[1].length&&Nt(),G=Object.keys(t[9]),J=[];for(let e=0;e<G.length;e+=1)J[e]=Ot(_t(t,G,e));return{c(){e=p("div"),n=m("Picked "),s=p("b"),o=m(t[2]),r=m("/"),l=m(t[3]),c=m(" ("),a=m(z),g=m("%) times"),$=h(),b=p("div"),w=m("Banned "),x=p("b"),k=m(P),C=m("/"),I=m(t[3]),L=m("\n        ("),S=m(T),j=m("%)\n        times"),W&&W.c(),E=h();for(let t=0;t<J.length;t+=1)J[t].c();_=h(),R=p("div"),N=m("Relevancy: "),O=p("b"),F=m(D),H=m("/"),B=m(t[3]),A=m(" ("),q=m(V),M=m("%)"),y(e,"class","picks"),y(b,"class","bans"),y(R,"class","relevancy")},m(t,f){u(t,e,f),i(e,n),i(e,s),i(s,o),i(s,r),i(s,l),i(e,c),i(e,a),i(e,g),u(t,$,f),u(t,b,f),i(b,w),i(b,x),i(x,k),i(x,C),i(x,I),i(b,L),i(b,S),i(b,j),W&&W.m(b,null),i(b,E);for(let t=0;t<J.length;t+=1)J[t].m(b,null);u(t,_,f),u(t,R,f),i(R,N),i(R,O),i(O,F),i(O,H),i(O,B),i(R,A),i(R,q),i(R,M)},p(t,e){if(4&e&&v(o,t[2]),8&e&&v(l,t[3]),12&e&&z!==(z=(100*t[2]/t[3]).toFixed(2)+"")&&v(a,z),2&e&&P!==(P=t[1].length+"")&&v(k,P),8&e&&v(I,t[3]),10&e&&T!==(T=(100*t[1].length/t[3]).toFixed(2)+"")&&v(S,T),t[1].length?W||(W=Nt(),W.c(),W.m(b,E)):W&&(W.d(1),W=null),529&e){let n;for(G=Object.keys(t[9]),n=0;n<G.length;n+=1){const s=_t(t,G,n);J[n]?J[n].p(s,e):(J[n]=Ot(s),J[n].c(),J[n].m(b,null))}for(;n<J.length;n+=1)J[n].d(1);J.length=G.length}6&e&&D!==(D=t[1].length+t[2]+"")&&v(F,D),8&e&&v(B,t[3]),14&e&&V!==(V=(100*(t[1].length+t[2])/t[3]).toFixed(2)+"")&&v(q,V)},d(t){t&&f(e),t&&f($),t&&f(b),W&&W.d(),d(J,t),t&&f(_),t&&f(R)}}}function Nt(t){let e;return{c(){e=m(" by:")},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function Ot(t){let e,n,s,o,r=t[0][t[19]].name+(t[9][t[19]]>1?` (${t[9][t[19]]}x)`:""),l=t[16]&&function(t){let e;return{c(){e=m(",")},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}();return{c(){l&&l.c(),e=h(),n=p("span"),s=m(r),y(n,"class",o=a(t[4]&&t[0][t[19]].name.toLowerCase().includes(t[4].toLowerCase())&&"ban-highlighted")+" svelte-1plw7g3")},m(t,o){l&&l.m(t,o),u(t,e,o),u(t,n,o),i(n,s)},p(t,e){513&e&&r!==(r=t[0][t[19]].name+(t[9][t[19]]>1?` (${t[9][t[19]]}x)`:""))&&v(s,r),529&e&&o!==(o=a(t[4]&&t[0][t[19]].name.toLowerCase().includes(t[4].toLowerCase())&&"ban-highlighted")+" svelte-1plw7g3")&&y(n,"class",o)},d(t){l&&l.d(t),t&&f(e),t&&f(n)}}}function Ft(t){let e,n,s,o;const r=[Bt,Ht],l=[];function c(t,e){return t[6]?0:1}return n=c(t),s=l[n]=r[n](t),{c(){e=p("div"),s.c(),y(e,"class","scores svelte-1plw7g3")},m(t,s){u(t,e,s),l[n].m(e,null),o=!0},p(t,o){let a=n;n=c(t),n===a?l[n].p(t,o):(q(),P(l[a],1,1,()=>{l[a]=null}),M(),s=l[n],s||(s=l[n]=r[n](t),s.c()),z(s,1),s.m(e,null))},i(t){o||(z(s),o=!0)},o(t){P(s),o=!1},d(t){t&&f(e),l[n].d()}}}function Ht(t){let e,n,s=t[5],o=[];for(let e=0;e<s.length;e+=1)o[e]=qt(jt(t,s,e));const r=t=>P(o[t],1,1,()=>{o[t]=null});return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=g()},m(t,s){for(let e=0;e<o.length;e+=1)o[e].m(t,s);u(t,e,s),n=!0},p(t,n){if(49&n){let l;for(s=t[5],l=0;l<s.length;l+=1){const r=jt(t,s,l);o[l]?(o[l].p(r,n),z(o[l],1)):(o[l]=qt(r),o[l].c(),z(o[l],1),o[l].m(e.parentNode,e))}for(q(),l=s.length;l<o.length;l+=1)r(l);M()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)z(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)P(o[t]);n=!1},d(t){d(o,t),t&&f(e)}}}function Bt(t){let e,n,s=t[10],o=[];for(let e=0;e<s.length;e+=1)o[e]=zt(Et(t,s,e));const r=t=>P(o[t],1,1,()=>{o[t]=null});return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=g()},m(t,s){for(let e=0;e<o.length;e+=1)o[e].m(t,s);u(t,e,s),n=!0},p(t,n){if(1040&n){let l;for(s=t[10],l=0;l<s.length;l+=1){const r=Et(t,s,l);o[l]?(o[l].p(r,n),z(o[l],1)):(o[l]=zt(r),o[l].c(),z(o[l],1),o[l].m(e.parentNode,e))}for(q(),l=s.length;l<o.length;l+=1)r(l);M()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)z(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)P(o[t]);n=!1},d(t){d(o,t),t&&f(e)}}}function At(t){let n;const s=[{index:t[16]+1},{player:t[0][t[17].userId]},t[17]];let o={};for(let t=0;t<s.length;t+=1)o=e(o,s[t]);const r=new St({props:o});return{c(){W(r.$$.fragment)},m(t,e){G(r,t,e),n=!0},p(t,e){const n=33&e?D(s,[s[0],{player:t[0][t[17].userId]},32&e&&V(t[17])]):{};r.$set(n)},i(t){n||(z(r.$$.fragment,t),n=!0)},o(t){P(r.$$.fragment,t),n=!1},d(t){J(r,t)}}}function qt(t){let e,n,s=t[0][t[17].userId]&&(!t[4]||t[0][t[17].userId].name.toLowerCase().includes(t[4].toLowerCase())),o=s&&At(t);return{c(){o&&o.c(),e=g()},m(t,s){o&&o.m(t,s),u(t,e,s),n=!0},p(t,n){49&n&&(s=t[0][t[17].userId]&&(!t[4]||t[0][t[17].userId].name.toLowerCase().includes(t[4].toLowerCase()))),s?o?(o.p(t,n),49&n&&z(o,1)):(o=At(t),o.c(),z(o,1),o.m(e.parentNode,e)):o&&(q(),P(o,1,1,()=>{o=null}),M())},i(t){n||(z(o),n=!0)},o(t){P(o),n=!1},d(t){o&&o.d(t),t&&f(e)}}}function Mt(t){let n;const s=[{index:t[16]+1},{player:t[14]},t[5][0]];let o={};for(let t=0;t<s.length;t+=1)o=e(o,s[t]);const r=new St({props:o});return{c(){W(r.$$.fragment)},m(t,e){G(r,t,e),n=!0},p(t,e){const n=1024&e?D(s,[s[0],{player:t[14]},V(t[5][0])]):{};r.$set(n)},i(t){n||(z(r.$$.fragment,t),n=!0)},o(t){P(r.$$.fragment,t),n=!1},d(t){J(r,t)}}}function zt(t){let e,n,s=!t[4]||t[14].name.toLowerCase().includes(t[4].toLowerCase()),o=s&&Mt(t);return{c(){o&&o.c(),e=g()},m(t,s){o&&o.m(t,s),u(t,e,s),n=!0},p(t,n){16&n&&(s=!t[4]||t[14].name.toLowerCase().includes(t[4].toLowerCase())),s?o?(o.p(t,n),16&n&&z(o,1)):(o=Mt(t),o.c(),z(o,1),o.m(e.parentNode,e)):o&&(q(),P(o,1,1,()=>{o=null}),M())},i(t){n||(z(o),n=!0)},o(t){P(o),n=!1},d(t){o&&o.d(t),t&&f(e)}}}function Pt(t){let e,n,s,r,l,c,a,d,g,b,w,x,k,C,I,L,S,j,E=(t[8]?t[8].toFixed(0):"N/A")+"",_=t[7]?"Hide":"Show",R=t[6]?"Show all player scores":"Only best scores",N=t[1]&&Rt(t),O=t[7]&&Ft(t);return{c(){e=p("div"),n=p("div"),s=p("div"),r=m("Average score: "),l=p("b"),c=m(E),a=h(),N&&N.c(),d=h(),g=p("button"),b=m(_),w=m(" scores"),x=h(),k=p("button"),C=m(R),I=h(),O&&O.c(),y(s,"class","average"),y(n,"class","stats svelte-1plw7g3"),y(e,"class","root")},m(o,f){u(o,e,f),i(e,n),i(n,s),i(s,r),i(s,l),i(l,c),i(n,a),N&&N.m(n,null),i(e,d),i(e,g),i(g,b),i(g,w),i(e,x),i(e,k),i(k,C),i(e,I),O&&O.m(e,null),L=!0,S||(j=[$(g,"click",t[12]),$(k,"click",t[11])],S=!0)},p(t,[s]){(!L||256&s)&&E!==(E=(t[8]?t[8].toFixed(0):"N/A")+"")&&v(c,E),t[1]?N?N.p(t,s):(N=Rt(t),N.c(),N.m(n,null)):N&&(N.d(1),N=null),(!L||128&s)&&_!==(_=t[7]?"Hide":"Show")&&v(b,_),(!L||64&s)&&R!==(R=t[6]?"Show all player scores":"Only best scores")&&v(C,R),t[7]?O?(O.p(t,s),128&s&&z(O,1)):(O=Ft(t),O.c(),z(O,1),O.m(e,null)):O&&(q(),P(O,1,1,()=>{O=null}),M())},i(t){L||(z(O),L=!0)},o(t){P(O),L=!1},d(t){t&&f(e),N&&N.d(),O&&O.d(),S=!1,o(j)}}}function Tt(t,e,n){let{players:s}=e,{scores:o}=e,{bans:r}=e,{pickCount:l}=e,{matchCount:c}=e,{filter:a}=e,i=!0,u=!0;const f={},d=[];let p=0;o.forEach(t=>{s[t.userId]&&(f[t.userId]||(f[t.userId]=[],d.push({player:s[t.userId],scores:f[t.userId]})),n(8,p+=t.score),f[t.userId].push(t))}),p/=o.length;const m={};return r&&r.forEach(t=>{s[t]&&(m[t]||n(9,m[t]=0,m),n(9,++m[t],m))}),t.$set=t=>{"players"in t&&n(0,s=t.players),"scores"in t&&n(5,o=t.scores),"bans"in t&&n(1,r=t.bans),"pickCount"in t&&n(2,l=t.pickCount),"matchCount"in t&&n(3,c=t.matchCount),"filter"in t&&n(4,a=t.filter)},[s,r,l,c,a,o,i,u,p,m,d,function(){n(6,i=!i)},function(){n(7,u=!u)}]}class Dt extends U{constructor(t){super(),Q(this,t,Tt,Pt,l,{players:0,scores:5,bans:1,pickCount:2,matchCount:3,filter:4})}}function Vt(e){let n,s,o,r,l,c,a,d,g,$,b,w,x,k,C,I,L,S,j,E,_,R,N,O,F,H,B,A,q,M,z,P,T,D,V,W,G,J,K,Q,U,X,Y,Z,tt,et,nt,st,ot,rt,lt,ct,at,it,ut,ft,dt,pt,mt,ht,gt,$t,yt=e[9].notes.total+"",vt=e[9].notes.rice+"",bt=e[9].notes.ln+"",wt=e[9].bpm+"",xt=e[9].sv+"",kt=e[9].notes.single+"",Ct=e[9].notes.jump+"",It=e[9].notes.hand+"",Lt=e[9].notes.quad+"";return{c(){n=p("div"),s=p("div"),o=p("a"),r=p("div"),l=m(e[1]),c=h(),a=p("div"),d=m(e[0]),$=h(),b=p("div"),w=p("b"),x=m("["),k=m(e[3]),C=m("]"),I=p("br"),L=m("beatmap set by "),S=p("b"),j=m(e[2]),E=h(),_=p("div"),R=m("HP "),N=m(e[6]),O=m(", OD "),F=m(e[7]),H=h(),B=p("div"),A=m(e[8]),q=h(),M=p("div"),z=m(yt),P=m(" notes"),T=p("br"),D=m("("),V=m(vt),W=m(" rice, "),G=m(bt),J=m(" LNs)"),K=p("br"),Q=h(),U=m(wt),X=m(" BPM events"),Y=p("br"),Z=h(),tt=m(xt),et=m(" SV events"),nt=p("br"),st=h(),ot=m(kt),rt=m(" singles"),lt=p("br"),ct=h(),at=m(Ct),it=m(" jumps"),ut=p("br"),ft=h(),dt=m(It),pt=m(" hands"),mt=p("br"),ht=h(),gt=m(Lt),$t=m(" quads"),y(r,"class","artist"),y(a,"class","name svelte-wc7mb7"),y(a,"title",e[0]),y(o,"href",g=`https://osu.ppy.sh/beatmapsets/${e[5]}#mania/${e[4]}`),y(o,"target","_blank"),y(b,"class","mapper"),y(_,"class","metrics svelte-wc7mb7"),y(s,"class","title svelte-wc7mb7"),y(B,"class","category svelte-wc7mb7"),y(M,"class","counts svelte-wc7mb7"),y(n,"class","root svelte-wc7mb7")},m(t,e){u(t,n,e),i(n,s),i(s,o),i(o,r),i(r,l),i(o,c),i(o,a),i(a,d),i(s,$),i(s,b),i(b,w),i(w,x),i(w,k),i(w,C),i(b,I),i(b,L),i(b,S),i(S,j),i(s,E),i(s,_),i(_,R),i(_,N),i(_,O),i(_,F),i(n,H),i(n,B),i(B,A),i(n,q),i(n,M),i(M,z),i(M,P),i(M,T),i(M,D),i(M,V),i(M,W),i(M,G),i(M,J),i(M,K),i(M,Q),i(M,U),i(M,X),i(M,Y),i(M,Z),i(M,tt),i(M,et),i(M,nt),i(M,st),i(M,ot),i(M,rt),i(M,lt),i(M,ct),i(M,at),i(M,it),i(M,ut),i(M,ft),i(M,dt),i(M,pt),i(M,mt),i(M,ht),i(M,gt),i(M,$t)},p(t,[e]){2&e&&v(l,t[1]),1&e&&v(d,t[0]),1&e&&y(a,"title",t[0]),48&e&&g!==(g=`https://osu.ppy.sh/beatmapsets/${t[5]}#mania/${t[4]}`)&&y(o,"href",g),8&e&&v(k,t[3]),4&e&&v(j,t[2]),64&e&&v(N,t[6]),128&e&&v(F,t[7]),256&e&&v(A,t[8]),512&e&&yt!==(yt=t[9].notes.total+"")&&v(z,yt),512&e&&vt!==(vt=t[9].notes.rice+"")&&v(V,vt),512&e&&bt!==(bt=t[9].notes.ln+"")&&v(G,bt),512&e&&wt!==(wt=t[9].bpm+"")&&v(U,wt),512&e&&xt!==(xt=t[9].sv+"")&&v(tt,xt),512&e&&kt!==(kt=t[9].notes.single+"")&&v(ot,kt),512&e&&Ct!==(Ct=t[9].notes.jump+"")&&v(at,Ct),512&e&&It!==(It=t[9].notes.hand+"")&&v(dt,It),512&e&&Lt!==(Lt=t[9].notes.quad+"")&&v(gt,Lt)},i:t,o:t,d(t){t&&f(n)}}}function Wt(t,e,n){let{title:s}=e,{artist:o}=e,{mapper:r}=e,{difficulty:l}=e,{beatmapId:c}=e,{beatmapSetId:a}=e,{hp:i}=e,{od:u}=e,{category:f}=e,{counts:d}=e;return t.$set=t=>{"title"in t&&n(0,s=t.title),"artist"in t&&n(1,o=t.artist),"mapper"in t&&n(2,r=t.mapper),"difficulty"in t&&n(3,l=t.difficulty),"beatmapId"in t&&n(4,c=t.beatmapId),"beatmapSetId"in t&&n(5,a=t.beatmapSetId),"hp"in t&&n(6,i=t.hp),"od"in t&&n(7,u=t.od),"category"in t&&n(8,f=t.category),"counts"in t&&n(9,d=t.counts)},[s,o,r,l,c,a,i,u,f,d]}class Gt extends U{constructor(t){super(),Q(this,t,Wt,Vt,l,{title:0,artist:1,mapper:2,difficulty:3,beatmapId:4,beatmapSetId:5,hp:6,od:7,category:8,counts:9})}}function Jt(t,e,n){const s=t.slice();return s[7]=e[n],s}function Kt(e){let n;return{c(){n=p("p"),n.textContent="Loading tournament data..."},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&f(n)}}}function Qt(t){let e,n,s,o,r,l,c,a,d,g,$,b,w=t[4].name+"",x=t[4].maps.length+"",k=[],C=new Map;const I=new ot({props:{backHref:"#/tournaments/"+t[0]}});I.$on("search",t[5]);let L=t[4].rolls&&Ut(t),S=t[4].qualifiers&&Xt(t),j=t[4].maps;const E=t=>t[7].beatmapId;for(let e=0;e<j.length;e+=1){let n=Jt(t,j,e),s=E(n);C.set(s,k[e]=Yt(s,n))}return{c(){W(I.$$.fragment),e=h(),n=p("h1"),s=m(w),o=h(),L&&L.c(),r=h(),S&&S.c(),l=h(),c=p("h2"),a=m(x),d=m(" maps"),g=h(),$=p("div");for(let t=0;t<k.length;t+=1)k[t].c();y($,"class","maps")},m(t,f){G(I,t,f),u(t,e,f),u(t,n,f),i(n,s),u(t,o,f),L&&L.m(t,f),u(t,r,f),S&&S.m(t,f),u(t,l,f),u(t,c,f),i(c,a),i(c,d),u(t,g,f),u(t,$,f);for(let t=0;t<k.length;t+=1)k[t].m($,null);b=!0},p(t,e){const n={};if(1&e&&(n.backHref="#/tournaments/"+t[0]),I.$set(n),(!b||16&e)&&w!==(w=t[4].name+"")&&v(s,w),t[4].rolls?L?(L.p(t,e),16&e&&z(L,1)):(L=Ut(t),L.c(),z(L,1),L.m(r.parentNode,r)):L&&(q(),P(L,1,1,()=>{L=null}),M()),t[4].qualifiers?S?(S.p(t,e),16&e&&z(S,1)):(S=Xt(t),S.c(),z(S,1),S.m(l.parentNode,l)):S&&(q(),P(S,1,1,()=>{S=null}),M()),(!b||16&e)&&x!==(x=t[4].maps.length+"")&&v(a,x),28&e){const n=t[4].maps;q(),k=function(t,e,n,s,o,r,l,c,a,i,u,f){let d=t.length,p=r.length,m=d;const h={};for(;m--;)h[t[m].key]=m;const g=[],$=new Map,y=new Map;for(m=p;m--;){const t=f(o,r,m),c=n(t);let a=l.get(c);a?s&&a.p(t,e):(a=i(c,t),a.c()),$.set(c,g[m]=a),c in h&&y.set(c,Math.abs(m-h[c]))}const v=new Set,b=new Set;function w(t){z(t,1),t.m(c,u),l.set(t.key,t),u=t.first,p--}for(;d&&p;){const e=g[p-1],n=t[d-1],s=e.key,o=n.key;e===n?(u=e.first,d--,p--):$.has(o)?!l.has(s)||v.has(s)?w(e):b.has(o)?d--:y.get(s)>y.get(o)?(b.add(s),w(e)):(v.add(o),d--):(a(n,l),d--)}for(;d--;){const e=t[d];$.has(e.key)||a(e,l)}for(;p;)w(g[p-1]);return g}(k,e,E,1,t,n,C,$,T,Yt,null,Jt),M()}},i(t){if(!b){z(I.$$.fragment,t),z(L),z(S);for(let t=0;t<j.length;t+=1)z(k[t]);b=!0}},o(t){P(I.$$.fragment,t),P(L),P(S);for(let t=0;t<k.length;t+=1)P(k[t]);b=!1},d(t){J(I,t),t&&f(e),t&&f(n),t&&f(o),L&&L.d(t),t&&f(r),S&&S.d(t),t&&f(l),t&&f(c),t&&f(g),t&&f($);for(let t=0;t<k.length;t+=1)k[t].d()}}}function Ut(t){let e,n,s;const o=new mt({props:{rolls:t[4].rolls,players:t[3].players,filter:t[2]}});return{c(){e=p("h2"),e.textContent="Rolls",n=h(),W(o.$$.fragment)},m(t,r){u(t,e,r),u(t,n,r),G(o,t,r),s=!0},p(t,e){const n={};16&e&&(n.rolls=t[4].rolls),8&e&&(n.players=t[3].players),4&e&&(n.filter=t[2]),o.$set(n)},i(t){s||(z(o.$$.fragment,t),s=!0)},o(t){P(o.$$.fragment,t),s=!1},d(t){t&&f(e),t&&f(n),J(o,t)}}}function Xt(t){let e,n,s;const o=new Ct({props:{players:t[3].players,maps:t[4].maps,filter:t[2]}});return{c(){e=p("h2"),e.textContent="Seeding",n=h(),W(o.$$.fragment)},m(t,r){u(t,e,r),u(t,n,r),G(o,t,r),s=!0},p(t,e){const n={};8&e&&(n.players=t[3].players),16&e&&(n.maps=t[4].maps),4&e&&(n.filter=t[2]),o.$set(n)},i(t){s||(z(o.$$.fragment,t),s=!0)},o(t){P(o.$$.fragment,t),s=!1},d(t){t&&f(e),t&&f(n),J(o,t)}}}function Yt(t,n){let s,o,r,l;const c=[n[7]];let a={};for(let t=0;t<c.length;t+=1)a=e(a,c[t]);const d=new Gt({props:a}),m=new Dt({props:{players:n[3].players,scores:n[7].scores,bans:n[7].bans,pickCount:n[7].pickCount,matchCount:n[4].matchCount,filter:n[2]}});return{key:t,first:null,c(){s=p("div"),W(d.$$.fragment),o=h(),W(m.$$.fragment),r=h(),y(s,"class","map svelte-ztog05"),this.first=s},m(t,e){u(t,s,e),G(d,s,null),i(s,o),G(m,s,null),i(s,r),l=!0},p(t,e){const n=16&e?D(c,[V(t[7])]):{};d.$set(n);const s={};8&e&&(s.players=t[3].players),16&e&&(s.scores=t[7].scores),16&e&&(s.bans=t[7].bans),16&e&&(s.pickCount=t[7].pickCount),16&e&&(s.matchCount=t[4].matchCount),4&e&&(s.filter=t[2]),m.$set(s)},i(t){l||(z(d.$$.fragment,t),z(m.$$.fragment,t),l=!0)},o(t){P(d.$$.fragment,t),P(m.$$.fragment,t),l=!1},d(t){t&&f(s),J(d),J(m)}}}function Zt(t){let e,n,s,o;const r=[Qt,Kt],l=[];function c(t,e){return t[1]?1:0}return n=c(t),s=l[n]=r[n](t),{c(){e=p("main"),s.c(),y(e,"class","svelte-ztog05")},m(t,s){u(t,e,s),l[n].m(e,null),o=!0},p(t,[o]){let a=n;n=c(t),n===a?l[n].p(t,o):(q(),P(l[a],1,1,()=>{l[a]=null}),M(),s=l[n],s||(s=l[n]=r[n](t),s.c()),z(s,1),s.m(e,null))},i(t){o||(z(s),o=!0)},o(t){P(s),o=!1},d(t){t&&f(e),l[n].d()}}}function te(t,e,n){let s,o;c(t,tt,t=>n(3,s=t)),c(t,et,t=>n(4,o=t));let{id:r}=e,{tournamentId:l}=e,a=!0,i=null;return k(async()=>{if(!s||s.id!=l)try{tt.set(null),et.set(null);const t=await fetch(`data/${l}.json`);tt.set(await t.json());const e=await fetch(`data/${l}.${r}.json`);et.set(await e.json())}catch{location.hash=""}if(!o||o.id!=r)try{et.set(null);const t=await fetch(`data/${l}.${r}.json`);et.set(await t.json())}catch{location.hash="#/tournaments/"+l}n(1,a=!1)}),t.$set=t=>{"id"in t&&n(6,r=t.id),"tournamentId"in t&&n(0,l=t.tournamentId)},[l,a,i,s,o,function(t){n(2,i=t.detail)},r]}class ee extends U{constructor(t){super(),Q(this,t,te,Zt,l,{id:6,tournamentId:0})}}function ne(e){let n,s,o,r,l,c,a,d,g,$,b,w,x,k,C,I,L,S,j,E,_,R;return{c(){n=p("div"),s=p("div"),o=p("img"),l=h(),c=p("div"),a=p("a"),d=m(e[1]),$=h(),b=p("div"),w=m("#"),x=m(e[5]),k=m(" ("),C=m(e[4]),I=m(" pp)"),L=p("br"),S=h(),j=m(e[3]),E=m(" (#"),_=m(e[6]),R=m(")"),o.src!==(r=e[2])&&y(o,"src",r),y(o,"alt",""),y(o,"class","svelte-ot3nx9"),y(s,"class","avatar svelte-ot3nx9"),y(a,"href",g="https://osu.ppy.sh/users/"+e[0]),y(a,"target","_blank"),y(c,"class","name svelte-ot3nx9"),y(b,"class","info svelte-ot3nx9"),y(n,"class","root svelte-ot3nx9")},m(t,e){u(t,n,e),i(n,s),i(s,o),i(n,l),i(n,c),i(c,a),i(a,d),i(n,$),i(n,b),i(b,w),i(b,x),i(b,k),i(b,C),i(b,I),i(b,L),i(b,S),i(b,j),i(b,E),i(b,_),i(b,R)},p(t,[e]){4&e&&o.src!==(r=t[2])&&y(o,"src",r),2&e&&v(d,t[1]),1&e&&g!==(g="https://osu.ppy.sh/users/"+t[0])&&y(a,"href",g),32&e&&v(x,t[5]),16&e&&v(C,t[4]),8&e&&v(j,t[3]),64&e&&v(_,t[6])},i:t,o:t,d(t){t&&f(n)}}}function se(t,e,n){let{id:s}=e,{name:o}=e,{avatar:r}=e,{country:l}=e,{pp:c}=e,{rank:a}=e,{countryRank:i}=e;return t.$set=t=>{"id"in t&&n(0,s=t.id),"name"in t&&n(1,o=t.name),"avatar"in t&&n(2,r=t.avatar),"country"in t&&n(3,l=t.country),"pp"in t&&n(4,c=t.pp),"rank"in t&&n(5,a=t.rank),"countryRank"in t&&n(6,i=t.countryRank)},[s,o,r,l,c,a,i]}class oe extends U{constructor(t){super(),Q(this,t,se,ne,l,{id:0,name:1,avatar:2,country:3,pp:4,rank:5,countryRank:6})}}function re(t,e,n){const s=t.slice();return s[7]=e[n],s}function le(t){let n;const s=[t[7]];let o={};for(let t=0;t<s.length;t+=1)o=e(o,s[t]);const r=new oe({props:o});return{c(){W(r.$$.fragment)},m(t,e){G(r,t,e),n=!0},p(t,e){const n=1&e?D(s,[V(t[7])]):{};r.$set(n)},i(t){n||(z(r.$$.fragment,t),n=!0)},o(t){P(r.$$.fragment,t),n=!1},d(t){J(r,t)}}}function ce(t){let e,n,s,r,l,c,a,m,g,v=t[0],b=[];for(let e=0;e<v.length;e+=1)b[e]=le(re(t,v,e));const w=t=>P(b[t],1,1,()=>{b[t]=null});return{c(){e=p("div"),n=p("button"),n.textContent="Alphabetical",s=h(),r=p("button"),r.textContent="Rank",l=h(),c=p("div");for(let t=0;t<b.length;t+=1)b[t].c();y(c,"class","players svelte-xa7zg9"),y(e,"class","root")},m(o,f){u(o,e,f),i(e,n),i(e,s),i(e,r),i(e,l),i(e,c);for(let t=0;t<b.length;t+=1)b[t].m(c,null);a=!0,m||(g=[$(n,"click",t[1]),$(r,"click",t[2])],m=!0)},p(t,[e]){if(1&e){let n;for(v=t[0],n=0;n<v.length;n+=1){const s=re(t,v,n);b[n]?(b[n].p(s,e),z(b[n],1)):(b[n]=le(s),b[n].c(),z(b[n],1),b[n].m(c,null))}for(q(),n=v.length;n<b.length;n+=1)w(n);M()}},i(t){if(!a){for(let t=0;t<v.length;t+=1)z(b[t]);a=!0}},o(t){b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)P(b[t]);a=!1},d(t){t&&f(e),d(b,t),m=!1,o(g)}}}function ae(t,e,n){let s,{players:o}=e,{sort:r="rank"}=e;const l=t=>t.sort((t,e)=>t.name.toLowerCase()<e.name.toLowerCase()?-1:1),c=t=>t.sort((t,e)=>t.rank<e.rank?-1:1);return t.$set=t=>{"players"in t&&n(3,o=t.players),"sort"in t&&n(4,r=t.sort)},t.$$.update=()=>{24&t.$$.dirty&&n(0,s="rank"===r?c(o):l(o))},[s,function(){n(0,s=l(o))},function(){n(0,s=c(o))},o,r]}class ie extends U{constructor(t){super(),Q(this,t,ae,ce,l,{players:3,sort:4})}}function ue(e){let n,s,o,r,l,c,a,d;return{c(){n=p("div"),s=p("div"),o=p("a"),r=m(e[0]),l=h(),c=p("div"),a=m(e[1]),d=m("Â maps"),y(o,"href",e[2]),y(s,"class","name svelte-b5fgg6"),y(c,"class","maps svelte-b5fgg6"),y(n,"class","root svelte-b5fgg6")},m(t,e){u(t,n,e),i(n,s),i(s,o),i(o,r),i(n,l),i(n,c),i(c,a),i(c,d)},p(t,[e]){1&e&&v(r,t[0]),4&e&&y(o,"href",t[2]),2&e&&v(a,t[1])},i:t,o:t,d(t){t&&f(n)}}}function fe(t,e,n){let{name:s}=e,{mapCount:o}=e,{href:r}=e;return t.$set=t=>{"name"in t&&n(0,s=t.name),"mapCount"in t&&n(1,o=t.mapCount),"href"in t&&n(2,r=t.href)},[s,o,r]}class de extends U{constructor(t){super(),Q(this,t,fe,ue,l,{name:0,mapCount:1,href:2})}}function pe(t,e,n){const s=t.slice();return s[6]=e[n],s}function me(e){let n;return{c(){n=p("p"),n.textContent="Loading tournament data..."},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&f(n)}}}function he(t){let e,n,s,o,r,l,c,a,g,$,b,w,x,k,C,I,L=t[3].name+"",S=t[3].stages.length+"",j=Object.keys(t[3].players).length+"";const E=new ot({props:{backHref:"#/"}});E.$on("search",t[4]);let _=t[3].stages,R=[];for(let e=0;e<_.length;e+=1)R[e]=ge(pe(t,_,e));const N=t=>P(R[t],1,1,()=>{R[t]=null}),O=new ie({props:{players:t[1]}});return{c(){W(E.$$.fragment),e=h(),n=p("h1"),s=m(L),o=h(),r=p("h2"),l=m(S),c=m(" stages"),a=h(),g=p("div");for(let t=0;t<R.length;t+=1)R[t].c();$=h(),b=p("h2"),w=m(j),x=m(" players"),k=h(),C=p("div"),W(O.$$.fragment),y(g,"class","stages svelte-wv5a2v"),y(C,"class","players")},m(t,f){G(E,t,f),u(t,e,f),u(t,n,f),i(n,s),u(t,o,f),u(t,r,f),i(r,l),i(r,c),u(t,a,f),u(t,g,f);for(let t=0;t<R.length;t+=1)R[t].m(g,null);u(t,$,f),u(t,b,f),i(b,w),i(b,x),u(t,k,f),u(t,C,f),G(O,C,null),I=!0},p(t,e){if((!I||8&e)&&L!==(L=t[3].name+"")&&v(s,L),(!I||8&e)&&S!==(S=t[3].stages.length+"")&&v(l,S),9&e){let n;for(_=t[3].stages,n=0;n<_.length;n+=1){const s=pe(t,_,n);R[n]?(R[n].p(s,e),z(R[n],1)):(R[n]=ge(s),R[n].c(),z(R[n],1),R[n].m(g,null))}for(q(),n=_.length;n<R.length;n+=1)N(n);M()}(!I||8&e)&&j!==(j=Object.keys(t[3].players).length+"")&&v(w,j);const n={};2&e&&(n.players=t[1]),O.$set(n)},i(t){if(!I){z(E.$$.fragment,t);for(let t=0;t<_.length;t+=1)z(R[t]);z(O.$$.fragment,t),I=!0}},o(t){P(E.$$.fragment,t),R=R.filter(Boolean);for(let t=0;t<R.length;t+=1)P(R[t]);P(O.$$.fragment,t),I=!1},d(t){J(E,t),t&&f(e),t&&f(n),t&&f(o),t&&f(r),t&&f(a),t&&f(g),d(R,t),t&&f($),t&&f(b),t&&f(k),t&&f(C),J(O)}}}function ge(t){let n;const s=[t[6],{href:`#/tournaments/${t[0]}/stages/${t[6].id}`}];let o={};for(let t=0;t<s.length;t+=1)o=e(o,s[t]);const r=new de({props:o});return{c(){W(r.$$.fragment)},m(t,e){G(r,t,e),n=!0},p(t,e){const n=9&e?D(s,[8&e&&V(t[6]),{href:`#/tournaments/${t[0]}/stages/${t[6].id}`}]):{};r.$set(n)},i(t){n||(z(r.$$.fragment,t),n=!0)},o(t){P(r.$$.fragment,t),n=!1},d(t){J(r,t)}}}function $e(t){let e,n,s,o;const r=[he,me],l=[];function c(t,e){return t[2]?1:0}return n=c(t),s=l[n]=r[n](t),{c(){e=p("main"),s.c(),y(e,"class","svelte-wv5a2v")},m(t,s){u(t,e,s),l[n].m(e,null),o=!0},p(t,[o]){let a=n;n=c(t),n===a?l[n].p(t,o):(q(),P(l[a],1,1,()=>{l[a]=null}),M(),s=l[n],s||(s=l[n]=r[n](t),s.c()),z(s,1),s.m(e,null))},i(t){o||(z(s),o=!0)},o(t){P(s),o=!1},d(t){t&&f(e),l[n].d()}}}function ye(t,e,n){let s;c(t,tt,t=>n(3,s=t));let o,r,{id:l}=e,a=!0;return k(async()=>{if(!s||s.id!=l)try{tt.set(null);const t=await fetch(`data/${l}.json`);tt.set(await t.json())}catch{location.hash=""}o=Object.values(s.players),n(1,r=o),n(2,a=!1)}),t.$set=t=>{"id"in t&&n(0,l=t.id)},[l,r,a,s,function(t){const e=t.detail;n(1,r=e?o.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())):o)}]}class ve extends U{constructor(t){super(),Q(this,t,ye,$e,l,{id:0})}}function be(e){let n,s,o,r,l,c,a,d,g;return{c(){n=p("div"),s=p("div"),o=p("a"),r=m(e[0]),c=h(),a=p("div"),d=m(e[2]),g=m("Â players"),y(o,"href",l="#/tournaments/"+e[1]),y(s,"class","name svelte-1lh8f59"),y(a,"class","players svelte-1lh8f59"),y(n,"class","root svelte-1lh8f59")},m(t,e){u(t,n,e),i(n,s),i(s,o),i(o,r),i(n,c),i(n,a),i(a,d),i(a,g)},p(t,[e]){1&e&&v(r,t[0]),2&e&&l!==(l="#/tournaments/"+t[1])&&y(o,"href",l),4&e&&v(d,t[2])},i:t,o:t,d(t){t&&f(n)}}}function we(t,e,n){let{name:s}=e,{id:o}=e,{playersCount:r}=e;return t.$set=t=>{"name"in t&&n(0,s=t.name),"id"in t&&n(1,o=t.id),"playersCount"in t&&n(2,r=t.playersCount)},[s,o,r]}class xe extends U{constructor(t){super(),Q(this,t,we,be,l,{name:0,id:1,playersCount:2})}}function ke(t,e,n){const s=t.slice();return s[1]=e[n],s}function Ce(t){let e;return{c(){e=p("p"),e.textContent="Loading tournaments..."},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function Ie(t){let n;const s=[t[1]];let o={};for(let t=0;t<s.length;t+=1)o=e(o,s[t]);const r=new xe({props:o});return{c(){W(r.$$.fragment)},m(t,e){G(r,t,e),n=!0},p(t,e){const n=1&e?D(s,[V(t[1])]):{};r.$set(n)},i(t){n||(z(r.$$.fragment,t),n=!0)},o(t){P(r.$$.fragment,t),n=!1},d(t){J(r,t)}}}function Le(t){let e,n,s,o,r,l,c,a=t[0],m=[];for(let e=0;e<a.length;e+=1)m[e]=Ie(ke(t,a,e));const g=t=>P(m[t],1,1,()=>{m[t]=null});let $=null;return a.length||($=Ce()),{c(){e=p("main"),n=p("h1"),n.textContent="Welcome!",s=h(),o=p("p"),o.textContent="Below are the available tournaments",r=h(),l=p("div");for(let t=0;t<m.length;t+=1)m[t].c();$&&$.c(),y(l,"class","tournaments svelte-saxtqp"),y(e,"class","svelte-saxtqp")},m(t,a){u(t,e,a),i(e,n),i(e,s),i(e,o),i(e,r),i(e,l);for(let t=0;t<m.length;t+=1)m[t].m(l,null);$&&$.m(l,null),c=!0},p(t,[e]){if(1&e){let n;for(a=t[0],n=0;n<a.length;n+=1){const s=ke(t,a,n);m[n]?(m[n].p(s,e),z(m[n],1)):(m[n]=Ie(s),m[n].c(),z(m[n],1),m[n].m(l,null))}for(q(),n=a.length;n<m.length;n+=1)g(n);M(),a.length?$&&($.d(1),$=null):$||($=Ce(),$.c(),$.m(l,null))}},i(t){if(!c){for(let t=0;t<a.length;t+=1)z(m[t]);c=!0}},o(t){m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)P(m[t]);c=!1},d(t){t&&f(e),d(m,t),$&&$.d()}}}function Se(t,e,n){let s;return c(t,Z,t=>n(0,s=t)),k(async()=>{if(!s.length){const t=await fetch("data/tournaments.json");Z.set(await t.json())}}),[s]}class je extends U{constructor(t){super(),Q(this,t,Se,Le,l,{})}}function Ee(e){let n;const s=new je({});return{c(){W(s.$$.fragment)},m(t,e){G(s,t,e),n=!0},p:t,i(t){n||(z(s.$$.fragment,t),n=!0)},o(t){P(s.$$.fragment,t),n=!1},d(t){J(s,t)}}}function _e(t){let e;const n=new ve({props:{id:t[1]}});return{c(){W(n.$$.fragment)},m(t,s){G(n,t,s),e=!0},p(t,e){const s={};2&e&&(s.id=t[1]),n.$set(s)},i(t){e||(z(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Re(t){let e;const n=new ee({props:{id:t[2],tournamentId:t[1]}});return{c(){W(n.$$.fragment)},m(t,s){G(n,t,s),e=!0},p(t,e){const s={};4&e&&(s.id=t[2]),2&e&&(s.tournamentId=t[1]),n.$set(s)},i(t){e||(z(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Ne(t){let e,n,s,o;const r=[Re,_e,Ee],l=[];function c(t,e){return t[1]&&t[2]?0:t[1]?1:t[0]?2:-1}return~(e=c(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),s=g()},m(t,n){~e&&l[e].m(t,n),u(t,s,n),o=!0},p(t,[o]){let a=e;e=c(t),e===a?~e&&l[e].p(t,o):(n&&(q(),P(l[a],1,1,()=>{l[a]=null}),M()),~e?(n=l[e],n||(n=l[e]=r[e](t),n.c()),z(n,1),n.m(s.parentNode,s)):n=null)},i(t){o||(z(n),o=!0)},o(t){P(n),o=!1},d(t){~e&&l[e].d(t),t&&f(s)}}}function Oe(t,e,n){let s,o,r;const l=()=>{n(0,s=location.hash.slice(1)||"/");const[,t,e,l,c]=s.split("/");n(1,o="tournaments"===t?e:null),n(2,r="stages"===l?c:null)};var c;return k(()=>{l(),window.addEventListener("hashchange",l)}),c=()=>{window.removeEventListener("hashchange",l)},x().$$.on_destroy.push(c),[s,o,r]}return new class extends U{constructor(t){super(),Q(this,t,Oe,Ne,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
