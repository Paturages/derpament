var derpament=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(n)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function a(t){return null==t?"":t}function i(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function h(){return m(" ")}function g(){return m("")}function $(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.data!==e&&(t.data=e)}let b;function x(t){b=t}function w(){if(!b)throw new Error("Function called outside component initialization");return b}function k(t){w().$$.on_mount.push(t)}function C(){const t=w();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const s=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach(e=>{e.call(t,s)})}}}const I=[],L=[],S=[],j=[],q=Promise.resolve();let E=!1;function _(t){S.push(t)}let R=!1;const N=new Set;function F(){if(!R){R=!0;do{for(let t=0;t<I.length;t+=1){const e=I[t];x(e),O(e.$$)}for(I.length=0;L.length;)L.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];N.has(e)||(N.add(e),e())}S.length=0}while(I.length);for(;j.length;)j.pop()();E=!1,R=!1,N.clear()}}function O(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const H=new Set;let B;function A(){B={r:0,c:[],p:B}}function V(){B.r||s(B.c),B=B.p}function M(t,e){t&&t.i&&(H.delete(t),t.i(e))}function z(t,e,n,o){if(t&&t.o){if(H.has(t))return;H.add(t),B.c.push(()=>{H.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function P(t,e){z(t,1,1,()=>{e.delete(t.key)})}function T(t,e){const n={},o={},s={$$scope:1};let r=t.length;for(;r--;){const l=t[r],c=e[r];if(c){for(const t in l)t in c||(o[t]=1);for(const t in c)s[t]||(n[t]=c[t],s[t]=1);t[r]=c}else for(const t in l)s[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function D(t){return"object"==typeof t&&null!==t?t:{}}function W(t){t&&t.c()}function G(t,e,o){const{fragment:l,on_mount:c,on_destroy:a,after_update:i}=t.$$;l&&l.m(e,o),_(()=>{const e=c.map(n).filter(r);a?a.push(...e):s(e),t.$$.on_mount=[]}),i.forEach(_)}function J(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K(t,e){-1===t.$$.dirty[0]&&(I.push(t),E||(E=!0,q.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(e,n,r,l,c,a,i=[-1]){const u=b;x(e);const p=n.props||{},d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:i};let m=!1;if(d.ctx=r?r(e,p,(t,n,...o)=>{const s=o.length?o[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=s)&&(d.bound[t]&&d.bound[t](s),m&&K(e,t)),n}):[],d.update(),m=!0,s(d.before_update),d.fragment=!!l&&l(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(f)}else d.fragment&&d.fragment.c();n.intro&&M(e.$$.fragment),G(e,n.target,n.anchor),F()}x(u)}class U{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const X=[];function Y(e,n=t){let o;const s=[];function r(t){if(l(e,t)&&(e=t,o)){const t=!X.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),X.push(n,e)}if(t){for(let t=0;t<X.length;t+=2)X[t][0](X[t+1]);X.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(l,c=t){const a=[l,c];return s.push(a),1===s.length&&(o=n(r)||t),l(e),()=>{const t=s.indexOf(a);-1!==t&&s.splice(t,1),0===s.length&&(o(),o=null)}}}}const Z=Y([]),tt=Y(null),et=Y(null);function nt(e){let n,o,s,r,l,c,a,p;return{c(){n=d("div"),o=d("div"),s=d("a"),r=m("< Back"),l=h(),c=d("input"),y(s,"href",e[0]),c.value=e[1],y(c,"type","search"),y(c,"placeholder","Filter on players (or try country=France)"),y(c,"class","svelte-g01nhw"),y(o,"class","inner svelte-g01nhw"),y(n,"class","root svelte-g01nhw")},m(t,f){u(t,n,f),i(n,o),i(o,s),i(s,r),i(o,l),i(o,c),a||(p=$(c,"input",e[2]),a=!0)},p(t,[e]){1&e&&y(s,"href",t[0])},i:t,o:t,d(t){t&&f(n),a=!1,p()}}}function ot(t,e,n){const o=C();let s,{backHref:r}=e,{initialValue:l=""}=e,c=l;return t.$set=t=>{"backHref"in t&&n(0,r=t.backHref),"initialValue"in t&&n(3,l=t.initialValue)},[r,c,function(t){s&&clearTimeout(s),s=setTimeout(()=>o("search",t.target.value),500)},l]}class st extends U{constructor(t){super(),Q(this,t,ot,nt,l,{backHref:0,initialValue:3})}}function rt(e){let n,o,s,r,l,c,a,p,g,$,b=e[0].name+"";return{c(){n=d("div"),o=d("div"),s=m(e[2]),r=m(".\r\n    "),l=d("a"),c=m(b),p=h(),g=d("div"),$=m(e[1]),y(l,"href",a="https://osu.ppy.sh/users/"+e[0].id),y(l,"target","_blank"),y(o,"class","name svelte-22sxgw"),y(g,"class","roll svelte-22sxgw"),y(n,"class","root svelte-22sxgw")},m(t,e){u(t,n,e),i(n,o),i(o,s),i(o,r),i(o,l),i(l,c),i(n,p),i(n,g),i(g,$)},p(t,[e]){4&e&&v(s,t[2]),1&e&&b!==(b=t[0].name+"")&&v(c,b),1&e&&a!==(a="https://osu.ppy.sh/users/"+t[0].id)&&y(l,"href",a),2&e&&v($,t[1])},i:t,o:t,d(t){t&&f(n)}}}function lt(t,e,n){let{player:o}=e,{roll:s}=e,{index:r}=e;return t.$set=t=>{"player"in t&&n(0,o=t.player),"roll"in t&&n(1,s=t.roll),"index"in t&&n(2,r=t.index)},[o,s,r]}class ct extends U{constructor(t){super(),Q(this,t,lt,rt,l,{player:0,roll:1,index:2})}}function at(t,e,n){const o=t.slice();return o[9]=e[n],o}function it(t){let e,n,o=t[2],s=[];for(let e=0;e<o.length;e+=1)s[e]=ft(at(t,o,e));const r=t=>z(s[t],1,1,()=>{s[t]=null});return{c(){e=d("div");for(let t=0;t<s.length;t+=1)s[t].c();y(e,"class","rolls svelte-wqk9m7")},m(t,o){u(t,e,o);for(let t=0;t<s.length;t+=1)s[t].m(e,null);n=!0},p(t,n){if(5&n){let l;for(o=t[2],l=0;l<o.length;l+=1){const r=at(t,o,l);s[l]?(s[l].p(r,n),M(s[l],1)):(s[l]=ft(r),s[l].c(),M(s[l],1),s[l].m(e,null))}for(A(),l=o.length;l<s.length;l+=1)r(l);V()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)M(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)z(s[t]);n=!1},d(t){t&&f(e),p(s,t)}}}function ut(t){let e;const n=new ct({props:{index:t[9].index,player:t[9].player,roll:t[9].value}});return{c(){W(n.$$.fragment)},m(t,o){G(n,t,o),e=!0},p(t,e){const o={};4&e&&(o.index=t[9].index),4&e&&(o.player=t[9].player),4&e&&(o.roll=t[9].value),n.$set(o)},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){z(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function ft(t){let e,n,o=dt(t[9],t[0]),s=o&&ut(t);return{c(){s&&s.c(),e=g()},m(t,o){s&&s.m(t,o),u(t,e,o),n=!0},p(t,n){5&n&&(o=dt(t[9],t[0])),o?s?(s.p(t,n),5&n&&M(s,1)):(s=ut(t),s.c(),M(s,1),s.m(e.parentNode,e)):s&&(A(),z(s,1,1,()=>{s=null}),V())},i(t){n||(M(s),n=!0)},o(t){z(s),n=!1},d(t){s&&s.d(t),t&&f(e)}}}function pt(t){let e,n,o,s,r,l,c,a,p=t[1]?"Hide":"Show",g=t[1]&&it(t);return{c(){e=d("div"),n=d("button"),o=m(p),s=m(" rolls"),r=h(),g&&g.c(),y(e,"class","root")},m(f,p){u(f,e,p),i(e,n),i(n,o),i(n,s),i(e,r),g&&g.m(e,null),l=!0,c||(a=$(n,"click",t[3]),c=!0)},p(t,[n]){(!l||2&n)&&p!==(p=t[1]?"Hide":"Show")&&v(o,p),t[1]?g?(g.p(t,n),2&n&&M(g,1)):(g=it(t),g.c(),M(g,1),g.m(e,null)):g&&(A(),z(g,1,1,()=>{g=null}),V())},i(t){l||(M(g),l=!0)},o(t){z(g),l=!1},d(t){t&&f(e),g&&g.d(),c=!1,a()}}}function dt(t,e){if(!e)return!0;let[,n]=e.match(/country=(.*)/i)||[];return n?t.player.country.toLowerCase().includes(n.toLowerCase()):t.player.name.toLowerCase().includes(e.toLowerCase())}function mt(t,e,n){let{players:o}=e,{rolls:s}=e,{filter:r}=e,l=!0,c=[],a=0,i=0;Object.keys(s).forEach(t=>{s[t].forEach(e=>{++a,i+=e,c.push({player:o[t],value:e})})});(i/a).toFixed(2);return c=c.sort((t,e)=>t.value<e.value?1:-1),c.forEach((t,e)=>{t.index=e&&c[e-1].value===t.value?c[e-1].index:e+1}),t.$set=t=>{"players"in t&&n(4,o=t.players),"rolls"in t&&n(5,s=t.rolls),"filter"in t&&n(0,r=t.filter)},[r,l,c,function(){n(1,l=!l)},o,s]}class ht extends U{constructor(t){super(),Q(this,t,mt,pt,l,{players:4,rolls:5,filter:0})}}function gt(e){let n,o,s,r,l,c,a,p,g,$,b,x,w,k,C,I,L,S,j,q=e[0].name+"",E=e[2].join(", ")+"";return{c(){n=d("div"),o=d("div"),s=m(e[4]),r=m(".\r\n    "),l=d("a"),c=m(q),p=h(),g=d("div"),$=d("div"),b=m("Sum of scores: "),x=m(e[3]),w=h(),k=d("div"),C=m("Ranks: "),I=m(E),L=h(),S=d("div"),j=m(e[1]),y(l,"href",a="https://osu.ppy.sh/users/"+e[0].id),y(l,"target","_blank"),y(o,"class","name svelte-1k0oiei"),y($,"class","combo"),y(k,"class","counts svelte-1k0oiei"),y(g,"class","info svelte-1k0oiei"),y(S,"class","score svelte-1k0oiei"),y(n,"class","root svelte-1k0oiei")},m(t,e){u(t,n,e),i(n,o),i(o,s),i(o,r),i(o,l),i(l,c),i(n,p),i(n,g),i(g,$),i($,b),i($,x),i(g,w),i(g,k),i(k,C),i(k,I),i(n,L),i(n,S),i(S,j)},p(t,[e]){16&e&&v(s,t[4]),1&e&&q!==(q=t[0].name+"")&&v(c,q),1&e&&a!==(a="https://osu.ppy.sh/users/"+t[0].id)&&y(l,"href",a),8&e&&v(x,t[3]),4&e&&E!==(E=t[2].join(", ")+"")&&v(I,E),2&e&&v(j,t[1])},i:t,o:t,d(t){t&&f(n)}}}function $t(t,e,n){let{player:o}=e,{totalRank:s}=e,{ranks:r}=e,{totalScore:l}=e,{index:c}=e;return t.$set=t=>{"player"in t&&n(0,o=t.player),"totalRank"in t&&n(1,s=t.totalRank),"ranks"in t&&n(2,r=t.ranks),"totalScore"in t&&n(3,l=t.totalScore),"index"in t&&n(4,c=t.index)},[o,s,r,l,c]}class yt extends U{constructor(t){super(),Q(this,t,$t,gt,l,{player:0,totalRank:1,ranks:2,totalScore:3,index:4})}}function vt(t,e,n){const o=t.slice();return o[10]=e[n],o[12]=n,o}function bt(t){let e,n,o=t[3],s=[];for(let e=0;e<o.length;e+=1)s[e]=wt(vt(t,o,e));const r=t=>z(s[t],1,1,()=>{s[t]=null});return{c(){e=d("div");for(let t=0;t<s.length;t+=1)s[t].c();y(e,"class","scores svelte-106ytg1")},m(t,o){u(t,e,o);for(let t=0;t<s.length;t+=1)s[t].m(e,null);n=!0},p(t,n){if(9&n){let l;for(o=t[3],l=0;l<o.length;l+=1){const r=vt(t,o,l);s[l]?(s[l].p(r,n),M(s[l],1)):(s[l]=wt(r),s[l].c(),M(s[l],1),s[l].m(e,null))}for(A(),l=o.length;l<s.length;l+=1)r(l);V()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)M(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)z(s[t]);n=!1},d(t){t&&f(e),p(s,t)}}}function xt(t){let n;const o=[{index:t[12]+1},t[10]];let s={};for(let t=0;t<o.length;t+=1)s=e(s,o[t]);const r=new yt({props:s});return{c(){W(r.$$.fragment)},m(t,e){G(r,t,e),n=!0},p(t,e){const n=8&e?T(o,[o[0],D(t[10])]):{};r.$set(n)},i(t){n||(M(r.$$.fragment,t),n=!0)},o(t){z(r.$$.fragment,t),n=!1},d(t){J(r,t)}}}function wt(t){let e,n,o=Ct(t[10],t[0]),s=o&&xt(t);return{c(){s&&s.c(),e=g()},m(t,o){s&&s.m(t,o),u(t,e,o),n=!0},p(t,n){1&n&&(o=Ct(t[10],t[0])),o?s?(s.p(t,n),1&n&&M(s,1)):(s=xt(t),s.c(),M(s,1),s.m(e.parentNode,e)):s&&(A(),z(s,1,1,()=>{s=null}),V())},i(t){n||(M(s),n=!0)},o(t){z(s),n=!1},d(t){s&&s.d(t),t&&f(e)}}}function kt(t){let e,n,o,s,r,l,c,a,p,g,b,x,w,k,C=(t[2]?t[2].toFixed(0):"N/A")+"",I=t[1]?"Hide":"Show",L=t[1]&&bt(t);return{c(){e=d("div"),n=d("div"),o=d("div"),s=m("Average score: "),r=d("b"),l=m(C),c=h(),a=d("button"),p=m(I),g=m(" scores"),b=h(),L&&L.c(),y(o,"class","average"),y(n,"class","stats svelte-106ytg1"),y(e,"class","root")},m(f,d){u(f,e,d),i(e,n),i(n,o),i(o,s),i(o,r),i(r,l),i(e,c),i(e,a),i(a,p),i(a,g),i(e,b),L&&L.m(e,null),x=!0,w||(k=$(a,"click",t[4]),w=!0)},p(t,[n]){(!x||4&n)&&C!==(C=(t[2]?t[2].toFixed(0):"N/A")+"")&&v(l,C),(!x||2&n)&&I!==(I=t[1]?"Hide":"Show")&&v(p,I),t[1]?L?(L.p(t,n),2&n&&M(L,1)):(L=bt(t),L.c(),M(L,1),L.m(e,null)):L&&(A(),z(L,1,1,()=>{L=null}),V())},i(t){x||(M(L),x=!0)},o(t){z(L),x=!1},d(t){t&&f(e),L&&L.d(),w=!1,k()}}}function Ct(t,e){if(!e)return!0;let[,n]=e.match(/country=(.*)/i)||[];return n?t.player.country.toLowerCase().includes(n.toLowerCase()):t.player.name.toLowerCase().includes(e.toLowerCase())}function It(t,e,n){let{players:o}=e,{maps:s}=e,{filter:r}=e,l=!0;const c={},a={};let i=0,u=0;s.forEach(t=>{a[t.beatmapId]=[],t.scores.forEach(e=>{o[e.userId]&&(c[e.userId]||(c[e.userId]={player:o[e.userId],totalScore:0,scores:[]}),a[t.beatmapId].includes(e.userId)||a[t.beatmapId].push(e.userId),n(2,i+=e.score),c[e.userId].scores.push(e),c[e.userId].totalScore+=e.score)}),u+=t.scores.length}),i/=u,Object.keys(c).forEach(t=>{c[t].ranks=[],c[t].totalRank=0;let e=!1;s.forEach(n=>{if(e)return;const o=a[n.beatmapId].indexOf(t)+1;o||(e=!0),c[t].ranks.push(o),c[t].totalRank+=o}),e&&delete c[t]});const f=Object.values(c).sort((t,e)=>t.totalRank==e.totalRank?t.totalScore<e.totalScore?-1:1:t.totalRank<e.totalRank?-1:1);return t.$set=t=>{"players"in t&&n(5,o=t.players),"maps"in t&&n(6,s=t.maps),"filter"in t&&n(0,r=t.filter)},[r,l,i,f,function(){n(1,l=!l)},o,s]}class Lt extends U{constructor(t){super(),Q(this,t,It,kt,l,{players:5,maps:6,filter:0})}}function St(e){let n,o,s,r,l,c,a,p,g,$,b,x,w,k,C,I,L,S,j,q,E,_,R,N,F,O,H,B,A,V,M,z,P,T=e[0].name+"",D=e[0].country+"",W=e[5].toFixed(2)+"",G=e[3].max+"",J=e[3][300]+"",K=e[3][200]+"",Q=e[3][100]+"",U=e[3][50]+"",X=e[3].miss+"",Y=e[1].toLocaleString()+"";return{c(){n=d("div"),o=d("div"),s=m(e[4]),r=m(".\r\n    "),l=d("a"),c=m(T),p=h(),g=d("small"),$=m(D),b=h(),x=d("div"),w=d("div"),k=m(W),C=m("%, "),I=m(e[2]),L=m(" combo"),S=h(),j=d("div"),q=m(G),E=m(" |\r\n      "),_=m(J),R=m(" |\r\n      "),N=m(K),F=m(" |\r\n      "),O=m(Q),H=m(" |\r\n      "),B=m(U),A=m(" |\r\n      "),V=m(X),M=h(),z=d("div"),P=m(Y),y(l,"href",a="https://osu.ppy.sh/users/"+e[0].id),y(l,"target","_blank"),y(g,"class","svelte-ocolox"),y(o,"class","name svelte-ocolox"),y(w,"class","combo"),y(j,"class","counts svelte-ocolox"),y(x,"class","info svelte-ocolox"),y(z,"class","score svelte-ocolox"),y(n,"class","root svelte-ocolox")},m(t,e){u(t,n,e),i(n,o),i(o,s),i(o,r),i(o,l),i(l,c),i(o,p),i(o,g),i(g,$),i(n,b),i(n,x),i(x,w),i(w,k),i(w,C),i(w,I),i(w,L),i(x,S),i(x,j),i(j,q),i(j,E),i(j,_),i(j,R),i(j,N),i(j,F),i(j,O),i(j,H),i(j,B),i(j,A),i(j,V),i(n,M),i(n,z),i(z,P)},p(t,[e]){16&e&&v(s,t[4]),1&e&&T!==(T=t[0].name+"")&&v(c,T),1&e&&a!==(a="https://osu.ppy.sh/users/"+t[0].id)&&y(l,"href",a),1&e&&D!==(D=t[0].country+"")&&v($,D),4&e&&v(I,t[2]),8&e&&G!==(G=t[3].max+"")&&v(q,G),8&e&&J!==(J=t[3][300]+"")&&v(_,J),8&e&&K!==(K=t[3][200]+"")&&v(N,K),8&e&&Q!==(Q=t[3][100]+"")&&v(O,Q),8&e&&U!==(U=t[3][50]+"")&&v(B,U),8&e&&X!==(X=t[3].miss+"")&&v(V,X),2&e&&Y!==(Y=t[1].toLocaleString()+"")&&v(P,Y)},i:t,o:t,d(t){t&&f(n)}}}function jt(t,e,n){let{player:o}=e,{score:s}=e,{combo:r}=e,{counts:l}=e,{index:c}=e;const a=l.max+l[300]+l[200]+l[100]+l[50]+l.miss,i=(305*l.max+300*l[300]+200*l[200]+100*l[100]+50*l[50])/(3.05*a);return t.$set=t=>{"player"in t&&n(0,o=t.player),"score"in t&&n(1,s=t.score),"combo"in t&&n(2,r=t.combo),"counts"in t&&n(3,l=t.counts),"index"in t&&n(4,c=t.index)},[o,s,r,l,c,i]}class qt extends U{constructor(t){super(),Q(this,t,jt,St,l,{player:0,score:1,combo:2,counts:3,index:4})}}function Et(t,e,n){const o=t.slice();return o[17]=e[n],o[16]=n,o}function _t(t,e,n){const o=t.slice();return o[14]=e[n].player,o[5]=e[n].scores,o[16]=n,o}function Rt(t,e,n){const o=t.slice();return o[19]=e[n],o[16]=n,o}function Nt(t){let e,n,o,s,r,l,c,a,g,$,b,x,w,k,C,I,L,S,j,q,E,_,R,N,F,O,H,B,A,V,M=(100*t[2]/t[3]).toFixed(2)+"",z=t[1].length+"",P=(100*t[1].length/t[3]).toFixed(2)+"",T=t[1].length+t[2]+"",D=(100*(t[1].length+t[2])/t[3]).toFixed(2)+"",W=t[1].length&&Ft(),G=Object.keys(t[9]),J=[];for(let e=0;e<G.length;e+=1)J[e]=Ot(Rt(t,G,e));return{c(){e=d("div"),n=m("Picked "),o=d("b"),s=m(t[2]),r=m("/"),l=m(t[3]),c=m(" ("),a=m(M),g=m("%) times"),$=h(),b=d("div"),x=m("Banned "),w=d("b"),k=m(z),C=m("/"),I=m(t[3]),L=m("\r\n        ("),S=m(P),j=m("%)\r\n        times"),W&&W.c(),q=h();for(let t=0;t<J.length;t+=1)J[t].c();E=h(),_=d("div"),R=m("Relevancy: "),N=d("b"),F=m(T),O=m("/"),H=m(t[3]),B=m(" ("),A=m(D),V=m("%)"),y(e,"class","picks"),y(b,"class","bans"),y(_,"class","relevancy")},m(t,f){u(t,e,f),i(e,n),i(e,o),i(o,s),i(o,r),i(o,l),i(e,c),i(e,a),i(e,g),u(t,$,f),u(t,b,f),i(b,x),i(b,w),i(w,k),i(w,C),i(w,I),i(b,L),i(b,S),i(b,j),W&&W.m(b,null),i(b,q);for(let t=0;t<J.length;t+=1)J[t].m(b,null);u(t,E,f),u(t,_,f),i(_,R),i(_,N),i(N,F),i(N,O),i(N,H),i(_,B),i(_,A),i(_,V)},p(t,e){if(4&e&&v(s,t[2]),8&e&&v(l,t[3]),12&e&&M!==(M=(100*t[2]/t[3]).toFixed(2)+"")&&v(a,M),2&e&&z!==(z=t[1].length+"")&&v(k,z),8&e&&v(I,t[3]),10&e&&P!==(P=(100*t[1].length/t[3]).toFixed(2)+"")&&v(S,P),t[1].length?W||(W=Ft(),W.c(),W.m(b,q)):W&&(W.d(1),W=null),529&e){let n;for(G=Object.keys(t[9]),n=0;n<G.length;n+=1){const o=Rt(t,G,n);J[n]?J[n].p(o,e):(J[n]=Ot(o),J[n].c(),J[n].m(b,null))}for(;n<J.length;n+=1)J[n].d(1);J.length=G.length}6&e&&T!==(T=t[1].length+t[2]+"")&&v(F,T),8&e&&v(H,t[3]),14&e&&D!==(D=(100*(t[1].length+t[2])/t[3]).toFixed(2)+"")&&v(A,D)},d(t){t&&f(e),t&&f($),t&&f(b),W&&W.d(),p(J,t),t&&f(E),t&&f(_)}}}function Ft(t){let e;return{c(){e=m(" by:")},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function Ot(t){let e,n,o,s,r=t[0][t[19]].name+(t[9][t[19]]>1?` (${t[9][t[19]]}x)`:""),l=t[16]&&function(t){let e;return{c(){e=m(",")},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}();return{c(){l&&l.c(),e=h(),n=d("span"),o=m(r),y(n,"class",s=a(t[4]&&t[0][t[19]].name.toLowerCase().includes(t[4].toLowerCase())&&"ban-highlighted")+" svelte-1plw7g3")},m(t,s){l&&l.m(t,s),u(t,e,s),u(t,n,s),i(n,o)},p(t,e){513&e&&r!==(r=t[0][t[19]].name+(t[9][t[19]]>1?` (${t[9][t[19]]}x)`:""))&&v(o,r),529&e&&s!==(s=a(t[4]&&t[0][t[19]].name.toLowerCase().includes(t[4].toLowerCase())&&"ban-highlighted")+" svelte-1plw7g3")&&y(n,"class",s)},d(t){l&&l.d(t),t&&f(e),t&&f(n)}}}function Ht(t){let e,n,o,s;const r=[At,Bt],l=[];function c(t,e){return t[6]?0:1}return n=c(t),o=l[n]=r[n](t),{c(){e=d("div"),o.c(),y(e,"class","scores svelte-1plw7g3")},m(t,o){u(t,e,o),l[n].m(e,null),s=!0},p(t,s){let a=n;n=c(t),n===a?l[n].p(t,s):(A(),z(l[a],1,1,()=>{l[a]=null}),V(),o=l[n],o||(o=l[n]=r[n](t),o.c()),M(o,1),o.m(e,null))},i(t){s||(M(o),s=!0)},o(t){z(o),s=!1},d(t){t&&f(e),l[n].d()}}}function Bt(t){let e,n,o=t[5],s=[];for(let e=0;e<o.length;e+=1)s[e]=Mt(Et(t,o,e));const r=t=>z(s[t],1,1,()=>{s[t]=null});return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=g()},m(t,o){for(let e=0;e<s.length;e+=1)s[e].m(t,o);u(t,e,o),n=!0},p(t,n){if(49&n){let l;for(o=t[5],l=0;l<o.length;l+=1){const r=Et(t,o,l);s[l]?(s[l].p(r,n),M(s[l],1)):(s[l]=Mt(r),s[l].c(),M(s[l],1),s[l].m(e.parentNode,e))}for(A(),l=o.length;l<s.length;l+=1)r(l);V()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)M(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)z(s[t]);n=!1},d(t){p(s,t),t&&f(e)}}}function At(t){let e,n,o=t[10],s=[];for(let e=0;e<o.length;e+=1)s[e]=Pt(_t(t,o,e));const r=t=>z(s[t],1,1,()=>{s[t]=null});return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=g()},m(t,o){for(let e=0;e<s.length;e+=1)s[e].m(t,o);u(t,e,o),n=!0},p(t,n){if(1040&n){let l;for(o=t[10],l=0;l<o.length;l+=1){const r=_t(t,o,l);s[l]?(s[l].p(r,n),M(s[l],1)):(s[l]=Pt(r),s[l].c(),M(s[l],1),s[l].m(e.parentNode,e))}for(A(),l=o.length;l<s.length;l+=1)r(l);V()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)M(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)z(s[t]);n=!1},d(t){p(s,t),t&&f(e)}}}function Vt(t){let n;const o=[{index:t[16]+1},{player:t[0][t[17].userId]},t[17]];let s={};for(let t=0;t<o.length;t+=1)s=e(s,o[t]);const r=new qt({props:s});return{c(){W(r.$$.fragment)},m(t,e){G(r,t,e),n=!0},p(t,e){const n=33&e?T(o,[o[0],{player:t[0][t[17].userId]},32&e&&D(t[17])]):{};r.$set(n)},i(t){n||(M(r.$$.fragment,t),n=!0)},o(t){z(r.$$.fragment,t),n=!1},d(t){J(r,t)}}}function Mt(t){let e,n,o=t[0][t[17].userId]&&Dt(t[0][t[17].userId],t[4]),s=o&&Vt(t);return{c(){s&&s.c(),e=g()},m(t,o){s&&s.m(t,o),u(t,e,o),n=!0},p(t,n){49&n&&(o=t[0][t[17].userId]&&Dt(t[0][t[17].userId],t[4])),o?s?(s.p(t,n),49&n&&M(s,1)):(s=Vt(t),s.c(),M(s,1),s.m(e.parentNode,e)):s&&(A(),z(s,1,1,()=>{s=null}),V())},i(t){n||(M(s),n=!0)},o(t){z(s),n=!1},d(t){s&&s.d(t),t&&f(e)}}}function zt(t){let n;const o=[{index:t[16]+1},{player:t[14]},t[5][0]];let s={};for(let t=0;t<o.length;t+=1)s=e(s,o[t]);const r=new qt({props:s});return{c(){W(r.$$.fragment)},m(t,e){G(r,t,e),n=!0},p(t,e){const n=1024&e?T(o,[o[0],{player:t[14]},D(t[5][0])]):{};r.$set(n)},i(t){n||(M(r.$$.fragment,t),n=!0)},o(t){z(r.$$.fragment,t),n=!1},d(t){J(r,t)}}}function Pt(t){let e,n,o=Dt(t[14],t[4]),s=o&&zt(t);return{c(){s&&s.c(),e=g()},m(t,o){s&&s.m(t,o),u(t,e,o),n=!0},p(t,n){16&n&&(o=Dt(t[14],t[4])),o?s?(s.p(t,n),16&n&&M(s,1)):(s=zt(t),s.c(),M(s,1),s.m(e.parentNode,e)):s&&(A(),z(s,1,1,()=>{s=null}),V())},i(t){n||(M(s),n=!0)},o(t){z(s),n=!1},d(t){s&&s.d(t),t&&f(e)}}}function Tt(t){let e,n,o,r,l,c,a,p,g,b,x,w,k,C,I,L,S,j,q=(t[8]?t[8].toFixed(0):"N/A")+"",E=t[7]?"Hide":"Show",_=t[6]?"Show all player scores":"Only best scores",R=t[1]&&Nt(t),N=t[7]&&Ht(t);return{c(){e=d("div"),n=d("div"),o=d("div"),r=m("Average score: "),l=d("b"),c=m(q),a=h(),R&&R.c(),p=h(),g=d("button"),b=m(E),x=m(" scores"),w=h(),k=d("button"),C=m(_),I=h(),N&&N.c(),y(o,"class","average"),y(n,"class","stats svelte-1plw7g3"),y(e,"class","root")},m(s,f){u(s,e,f),i(e,n),i(n,o),i(o,r),i(o,l),i(l,c),i(n,a),R&&R.m(n,null),i(e,p),i(e,g),i(g,b),i(g,x),i(e,w),i(e,k),i(k,C),i(e,I),N&&N.m(e,null),L=!0,S||(j=[$(g,"click",t[12]),$(k,"click",t[11])],S=!0)},p(t,[o]){(!L||256&o)&&q!==(q=(t[8]?t[8].toFixed(0):"N/A")+"")&&v(c,q),t[1]?R?R.p(t,o):(R=Nt(t),R.c(),R.m(n,null)):R&&(R.d(1),R=null),(!L||128&o)&&E!==(E=t[7]?"Hide":"Show")&&v(b,E),(!L||64&o)&&_!==(_=t[6]?"Show all player scores":"Only best scores")&&v(C,_),t[7]?N?(N.p(t,o),128&o&&M(N,1)):(N=Ht(t),N.c(),M(N,1),N.m(e,null)):N&&(A(),z(N,1,1,()=>{N=null}),V())},i(t){L||(M(N),L=!0)},o(t){z(N),L=!1},d(t){t&&f(e),R&&R.d(),N&&N.d(),S=!1,s(j)}}}function Dt(t,e){if(!e)return!0;let[,n]=e.match(/country=(.*)/i)||[];return n?t.country.toLowerCase().includes(n.toLowerCase()):t.name.toLowerCase().includes(e.toLowerCase())}function Wt(t,e,n){let{players:o}=e,{scores:s}=e,{bans:r}=e,{pickCount:l}=e,{matchCount:c}=e,{filter:a}=e,i=!0,u=!0;const f={},p=[];let d=0;s.forEach(t=>{o[t.userId]&&(f[t.userId]||(f[t.userId]=[],p.push({player:o[t.userId],scores:f[t.userId]})),n(8,d+=t.score),f[t.userId].push(t))}),d/=s.length;const m={};return r&&r.forEach(t=>{o[t]&&(m[t]||n(9,m[t]=0,m),n(9,++m[t],m))}),t.$set=t=>{"players"in t&&n(0,o=t.players),"scores"in t&&n(5,s=t.scores),"bans"in t&&n(1,r=t.bans),"pickCount"in t&&n(2,l=t.pickCount),"matchCount"in t&&n(3,c=t.matchCount),"filter"in t&&n(4,a=t.filter)},[o,r,l,c,a,s,i,u,d,m,p,function(){n(6,i=!i)},function(){n(7,u=!u)}]}class Gt extends U{constructor(t){super(),Q(this,t,Wt,Tt,l,{players:0,scores:5,bans:1,pickCount:2,matchCount:3,filter:4})}}function Jt(e){let n,o,s,r,l,c,a,p,g,$,b,x,w,k,C,I,L,S,j,q,E,_,R,N,F,O,H,B,A,V,M,z,P,T,D,W,G,J,K,Q,U,X,Y,Z,tt,et,nt,ot,st,rt,lt,ct,at,it,ut,ft,pt,dt,mt,ht,gt,$t,yt=e[9].notes.total+"",vt=e[9].notes.rice+"",bt=e[9].notes.ln+"",xt=e[9].bpm+"",wt=e[9].sv+"",kt=e[9].notes.single+"",Ct=e[9].notes.jump+"",It=e[9].notes.hand+"",Lt=e[9].notes.quad+"";return{c(){n=d("div"),o=d("div"),s=d("a"),r=d("div"),l=m(e[1]),c=h(),a=d("div"),p=m(e[0]),$=h(),b=d("div"),x=d("b"),w=m("["),k=m(e[3]),C=m("]"),I=d("br"),L=m("beatmap set by "),S=d("b"),j=m(e[2]),q=h(),E=d("div"),_=m("HP "),R=m(e[6]),N=m(", OD "),F=m(e[7]),O=h(),H=d("div"),B=m(e[8]),A=h(),V=d("div"),M=m(yt),z=m(" notes"),P=d("br"),T=m("("),D=m(vt),W=m(" rice, "),G=m(bt),J=m(" LNs)"),K=d("br"),Q=h(),U=m(xt),X=m(" BPM events"),Y=d("br"),Z=h(),tt=m(wt),et=m(" SV events"),nt=d("br"),ot=h(),st=m(kt),rt=m(" singles"),lt=d("br"),ct=h(),at=m(Ct),it=m(" jumps"),ut=d("br"),ft=h(),pt=m(It),dt=m(" hands"),mt=d("br"),ht=h(),gt=m(Lt),$t=m(" quads"),y(r,"class","artist"),y(a,"class","name svelte-wc7mb7"),y(a,"title",e[0]),y(s,"href",g=`https://osu.ppy.sh/beatmapsets/${e[5]}#mania/${e[4]}`),y(s,"target","_blank"),y(b,"class","mapper"),y(E,"class","metrics svelte-wc7mb7"),y(o,"class","title svelte-wc7mb7"),y(H,"class","category svelte-wc7mb7"),y(V,"class","counts svelte-wc7mb7"),y(n,"class","root svelte-wc7mb7")},m(t,e){u(t,n,e),i(n,o),i(o,s),i(s,r),i(r,l),i(s,c),i(s,a),i(a,p),i(o,$),i(o,b),i(b,x),i(x,w),i(x,k),i(x,C),i(b,I),i(b,L),i(b,S),i(S,j),i(o,q),i(o,E),i(E,_),i(E,R),i(E,N),i(E,F),i(n,O),i(n,H),i(H,B),i(n,A),i(n,V),i(V,M),i(V,z),i(V,P),i(V,T),i(V,D),i(V,W),i(V,G),i(V,J),i(V,K),i(V,Q),i(V,U),i(V,X),i(V,Y),i(V,Z),i(V,tt),i(V,et),i(V,nt),i(V,ot),i(V,st),i(V,rt),i(V,lt),i(V,ct),i(V,at),i(V,it),i(V,ut),i(V,ft),i(V,pt),i(V,dt),i(V,mt),i(V,ht),i(V,gt),i(V,$t)},p(t,[e]){2&e&&v(l,t[1]),1&e&&v(p,t[0]),1&e&&y(a,"title",t[0]),48&e&&g!==(g=`https://osu.ppy.sh/beatmapsets/${t[5]}#mania/${t[4]}`)&&y(s,"href",g),8&e&&v(k,t[3]),4&e&&v(j,t[2]),64&e&&v(R,t[6]),128&e&&v(F,t[7]),256&e&&v(B,t[8]),512&e&&yt!==(yt=t[9].notes.total+"")&&v(M,yt),512&e&&vt!==(vt=t[9].notes.rice+"")&&v(D,vt),512&e&&bt!==(bt=t[9].notes.ln+"")&&v(G,bt),512&e&&xt!==(xt=t[9].bpm+"")&&v(U,xt),512&e&&wt!==(wt=t[9].sv+"")&&v(tt,wt),512&e&&kt!==(kt=t[9].notes.single+"")&&v(st,kt),512&e&&Ct!==(Ct=t[9].notes.jump+"")&&v(at,Ct),512&e&&It!==(It=t[9].notes.hand+"")&&v(pt,It),512&e&&Lt!==(Lt=t[9].notes.quad+"")&&v(gt,Lt)},i:t,o:t,d(t){t&&f(n)}}}function Kt(t,e,n){let{title:o}=e,{artist:s}=e,{mapper:r}=e,{difficulty:l}=e,{beatmapId:c}=e,{beatmapSetId:a}=e,{hp:i}=e,{od:u}=e,{category:f}=e,{counts:p}=e;return t.$set=t=>{"title"in t&&n(0,o=t.title),"artist"in t&&n(1,s=t.artist),"mapper"in t&&n(2,r=t.mapper),"difficulty"in t&&n(3,l=t.difficulty),"beatmapId"in t&&n(4,c=t.beatmapId),"beatmapSetId"in t&&n(5,a=t.beatmapSetId),"hp"in t&&n(6,i=t.hp),"od"in t&&n(7,u=t.od),"category"in t&&n(8,f=t.category),"counts"in t&&n(9,p=t.counts)},[o,s,r,l,c,a,i,u,f,p]}class Qt extends U{constructor(t){super(),Q(this,t,Kt,Jt,l,{title:0,artist:1,mapper:2,difficulty:3,beatmapId:4,beatmapSetId:5,hp:6,od:7,category:8,counts:9})}}function Ut(t,e,n){const o=t.slice();return o[8]=e[n],o}function Xt(e){let n;return{c(){n=d("p"),n.textContent="Loading tournament data..."},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&f(n)}}}function Yt(t){let e,n,o,s,r,l,c,a,p,g,$,b,x=t[5].name+"",w=t[5].maps.length+"",k=[],C=new Map;const I=new st({props:{initialValue:t[1],backHref:"#/tournaments/"+t[0]}});I.$on("search",t[6]);let L=t[5].rolls&&Zt(t),S=t[5].qualifiers&&te(t),j=t[5].maps;const q=t=>t[8].beatmapId;for(let e=0;e<j.length;e+=1){let n=Ut(t,j,e),o=q(n);C.set(o,k[e]=ee(o,n))}return{c(){W(I.$$.fragment),e=h(),n=d("h1"),o=m(x),s=h(),L&&L.c(),r=h(),S&&S.c(),l=h(),c=d("h2"),a=m(w),p=m(" maps"),g=h(),$=d("div");for(let t=0;t<k.length;t+=1)k[t].c();y($,"class","maps")},m(t,f){G(I,t,f),u(t,e,f),u(t,n,f),i(n,o),u(t,s,f),L&&L.m(t,f),u(t,r,f),S&&S.m(t,f),u(t,l,f),u(t,c,f),i(c,a),i(c,p),u(t,g,f),u(t,$,f);for(let t=0;t<k.length;t+=1)k[t].m($,null);b=!0},p(t,e){const n={};if(2&e&&(n.initialValue=t[1]),1&e&&(n.backHref="#/tournaments/"+t[0]),I.$set(n),(!b||32&e)&&x!==(x=t[5].name+"")&&v(o,x),t[5].rolls?L?(L.p(t,e),32&e&&M(L,1)):(L=Zt(t),L.c(),M(L,1),L.m(r.parentNode,r)):L&&(A(),z(L,1,1,()=>{L=null}),V()),t[5].qualifiers?S?(S.p(t,e),32&e&&M(S,1)):(S=te(t),S.c(),M(S,1),S.m(l.parentNode,l)):S&&(A(),z(S,1,1,()=>{S=null}),V()),(!b||32&e)&&w!==(w=t[5].maps.length+"")&&v(a,w),56&e){const n=t[5].maps;A(),k=function(t,e,n,o,s,r,l,c,a,i,u,f){let p=t.length,d=r.length,m=p;const h={};for(;m--;)h[t[m].key]=m;const g=[],$=new Map,y=new Map;for(m=d;m--;){const t=f(s,r,m),c=n(t);let a=l.get(c);a?o&&a.p(t,e):(a=i(c,t),a.c()),$.set(c,g[m]=a),c in h&&y.set(c,Math.abs(m-h[c]))}const v=new Set,b=new Set;function x(t){M(t,1),t.m(c,u),l.set(t.key,t),u=t.first,d--}for(;p&&d;){const e=g[d-1],n=t[p-1],o=e.key,s=n.key;e===n?(u=e.first,p--,d--):$.has(s)?!l.has(o)||v.has(o)?x(e):b.has(s)?p--:y.get(o)>y.get(s)?(b.add(o),x(e)):(v.add(s),p--):(a(n,l),p--)}for(;p--;){const e=t[p];$.has(e.key)||a(e,l)}for(;d;)x(g[d-1]);return g}(k,e,q,1,t,n,C,$,P,ee,null,Ut),V()}},i(t){if(!b){M(I.$$.fragment,t),M(L),M(S);for(let t=0;t<j.length;t+=1)M(k[t]);b=!0}},o(t){z(I.$$.fragment,t),z(L),z(S);for(let t=0;t<k.length;t+=1)z(k[t]);b=!1},d(t){J(I,t),t&&f(e),t&&f(n),t&&f(s),L&&L.d(t),t&&f(r),S&&S.d(t),t&&f(l),t&&f(c),t&&f(g),t&&f($);for(let t=0;t<k.length;t+=1)k[t].d()}}}function Zt(t){let e,n,o;const s=new ht({props:{rolls:t[5].rolls,players:t[4].players,filter:t[3]}});return{c(){e=d("h2"),e.textContent="Rolls",n=h(),W(s.$$.fragment)},m(t,r){u(t,e,r),u(t,n,r),G(s,t,r),o=!0},p(t,e){const n={};32&e&&(n.rolls=t[5].rolls),16&e&&(n.players=t[4].players),8&e&&(n.filter=t[3]),s.$set(n)},i(t){o||(M(s.$$.fragment,t),o=!0)},o(t){z(s.$$.fragment,t),o=!1},d(t){t&&f(e),t&&f(n),J(s,t)}}}function te(t){let e,n,o;const s=new Lt({props:{players:t[4].players,maps:t[5].maps,filter:t[3]}});return{c(){e=d("h2"),e.textContent="Seeding",n=h(),W(s.$$.fragment)},m(t,r){u(t,e,r),u(t,n,r),G(s,t,r),o=!0},p(t,e){const n={};16&e&&(n.players=t[4].players),32&e&&(n.maps=t[5].maps),8&e&&(n.filter=t[3]),s.$set(n)},i(t){o||(M(s.$$.fragment,t),o=!0)},o(t){z(s.$$.fragment,t),o=!1},d(t){t&&f(e),t&&f(n),J(s,t)}}}function ee(t,n){let o,s,r,l;const c=[n[8]];let a={};for(let t=0;t<c.length;t+=1)a=e(a,c[t]);const p=new Qt({props:a}),m=new Gt({props:{players:n[4].players,scores:n[8].scores,bans:n[8].bans,pickCount:n[8].pickCount,matchCount:n[5].matchCount,filter:n[3]}});return{key:t,first:null,c(){o=d("div"),W(p.$$.fragment),s=h(),W(m.$$.fragment),r=h(),y(o,"class","map svelte-ztog05"),this.first=o},m(t,e){u(t,o,e),G(p,o,null),i(o,s),G(m,o,null),i(o,r),l=!0},p(t,e){const n=32&e?T(c,[D(t[8])]):{};p.$set(n);const o={};16&e&&(o.players=t[4].players),32&e&&(o.scores=t[8].scores),32&e&&(o.bans=t[8].bans),32&e&&(o.pickCount=t[8].pickCount),32&e&&(o.matchCount=t[5].matchCount),8&e&&(o.filter=t[3]),m.$set(o)},i(t){l||(M(p.$$.fragment,t),M(m.$$.fragment,t),l=!0)},o(t){z(p.$$.fragment,t),z(m.$$.fragment,t),l=!1},d(t){t&&f(o),J(p),J(m)}}}function ne(t){let e,n,o,s;const r=[Yt,Xt],l=[];function c(t,e){return t[2]?1:0}return n=c(t),o=l[n]=r[n](t),{c(){e=d("main"),o.c(),y(e,"class","svelte-ztog05")},m(t,o){u(t,e,o),l[n].m(e,null),s=!0},p(t,[s]){let a=n;n=c(t),n===a?l[n].p(t,s):(A(),z(l[a],1,1,()=>{l[a]=null}),V(),o=l[n],o||(o=l[n]=r[n](t),o.c()),M(o,1),o.m(e,null))},i(t){s||(M(o),s=!0)},o(t){z(o),s=!1},d(t){t&&f(e),l[n].d()}}}function oe(t,e,n){let o,s;c(t,tt,t=>n(4,o=t)),c(t,et,t=>n(5,s=t));let{id:r}=e,{tournamentId:l}=e,{query:a}=e,i=!0,u=a||null;return k(async()=>{if(!o||o.id!=l)try{tt.set(null),et.set(null);const t=await fetch(`data/${l}.json`);tt.set(await t.json());const e=await fetch(`data/${l}.${r}.json`);et.set(await e.json())}catch{location.hash=""}if(!s||s.id!=r)try{et.set(null);const t=await fetch(`data/${l}.${r}.json`);et.set(await t.json())}catch{location.hash="#/tournaments/"+l}n(2,i=!1)}),t.$set=t=>{"id"in t&&n(7,r=t.id),"tournamentId"in t&&n(0,l=t.tournamentId),"query"in t&&n(1,a=t.query)},[l,a,i,u,o,s,function(t){n(3,u=t.detail),location.hash=location.hash.split("?")[0]+(u?"?q="+u:"")},r]}class se extends U{constructor(t){super(),Q(this,t,oe,ne,l,{id:7,tournamentId:0,query:1})}}function re(e){let n,o,s,r,l,c,a,p,g,$,b,x,w,k,C,I,L,S,j,q,E,_;return{c(){n=d("div"),o=d("div"),s=d("img"),l=h(),c=d("div"),a=d("a"),p=m(e[1]),$=h(),b=d("div"),x=m("#"),w=m(e[5]),k=m(" ("),C=m(e[4]),I=m(" pp)"),L=d("br"),S=h(),j=m(e[3]),q=m(" (#"),E=m(e[6]),_=m(")"),s.src!==(r=e[2])&&y(s,"src",r),y(s,"alt",""),y(s,"class","svelte-ot3nx9"),y(o,"class","avatar svelte-ot3nx9"),y(a,"href",g="https://osu.ppy.sh/users/"+e[0]),y(a,"target","_blank"),y(c,"class","name svelte-ot3nx9"),y(b,"class","info svelte-ot3nx9"),y(n,"class","root svelte-ot3nx9")},m(t,e){u(t,n,e),i(n,o),i(o,s),i(n,l),i(n,c),i(c,a),i(a,p),i(n,$),i(n,b),i(b,x),i(b,w),i(b,k),i(b,C),i(b,I),i(b,L),i(b,S),i(b,j),i(b,q),i(b,E),i(b,_)},p(t,[e]){4&e&&s.src!==(r=t[2])&&y(s,"src",r),2&e&&v(p,t[1]),1&e&&g!==(g="https://osu.ppy.sh/users/"+t[0])&&y(a,"href",g),32&e&&v(w,t[5]),16&e&&v(C,t[4]),8&e&&v(j,t[3]),64&e&&v(E,t[6])},i:t,o:t,d(t){t&&f(n)}}}function le(t,e,n){let{id:o}=e,{name:s}=e,{avatar:r}=e,{country:l}=e,{pp:c}=e,{rank:a}=e,{countryRank:i}=e;return t.$set=t=>{"id"in t&&n(0,o=t.id),"name"in t&&n(1,s=t.name),"avatar"in t&&n(2,r=t.avatar),"country"in t&&n(3,l=t.country),"pp"in t&&n(4,c=t.pp),"rank"in t&&n(5,a=t.rank),"countryRank"in t&&n(6,i=t.countryRank)},[o,s,r,l,c,a,i]}class ce extends U{constructor(t){super(),Q(this,t,le,re,l,{id:0,name:1,avatar:2,country:3,pp:4,rank:5,countryRank:6})}}function ae(t,e,n){const o=t.slice();return o[7]=e[n],o}function ie(t){let n;const o=[t[7]];let s={};for(let t=0;t<o.length;t+=1)s=e(s,o[t]);const r=new ce({props:s});return{c(){W(r.$$.fragment)},m(t,e){G(r,t,e),n=!0},p(t,e){const n=1&e?T(o,[D(t[7])]):{};r.$set(n)},i(t){n||(M(r.$$.fragment,t),n=!0)},o(t){z(r.$$.fragment,t),n=!1},d(t){J(r,t)}}}function ue(t){let e,n,o,r,l,c,a,m,g,v=t[0],b=[];for(let e=0;e<v.length;e+=1)b[e]=ie(ae(t,v,e));const x=t=>z(b[t],1,1,()=>{b[t]=null});return{c(){e=d("div"),n=d("button"),n.textContent="Alphabetical",o=h(),r=d("button"),r.textContent="Rank",l=h(),c=d("div");for(let t=0;t<b.length;t+=1)b[t].c();y(c,"class","players svelte-xa7zg9"),y(e,"class","root")},m(s,f){u(s,e,f),i(e,n),i(e,o),i(e,r),i(e,l),i(e,c);for(let t=0;t<b.length;t+=1)b[t].m(c,null);a=!0,m||(g=[$(n,"click",t[1]),$(r,"click",t[2])],m=!0)},p(t,[e]){if(1&e){let n;for(v=t[0],n=0;n<v.length;n+=1){const o=ae(t,v,n);b[n]?(b[n].p(o,e),M(b[n],1)):(b[n]=ie(o),b[n].c(),M(b[n],1),b[n].m(c,null))}for(A(),n=v.length;n<b.length;n+=1)x(n);V()}},i(t){if(!a){for(let t=0;t<v.length;t+=1)M(b[t]);a=!0}},o(t){b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)z(b[t]);a=!1},d(t){t&&f(e),p(b,t),m=!1,s(g)}}}function fe(t,e,n){let o,{players:s}=e,{sort:r="rank"}=e;const l=t=>t.sort((t,e)=>t.name.toLowerCase()<e.name.toLowerCase()?-1:1),c=t=>t.sort((t,e)=>t.rank<e.rank?-1:1);return t.$set=t=>{"players"in t&&n(3,s=t.players),"sort"in t&&n(4,r=t.sort)},t.$$.update=()=>{24&t.$$.dirty&&n(0,o="rank"===r?c(s):l(s))},[o,function(){n(0,o=l(s))},function(){n(0,o=c(s))},s,r]}class pe extends U{constructor(t){super(),Q(this,t,fe,ue,l,{players:3,sort:4})}}function de(e){let n,o,s,r,l,c,a,p;return{c(){n=d("div"),o=d("div"),s=d("a"),r=m(e[0]),l=h(),c=d("div"),a=m(e[1]),p=m(" maps"),y(s,"href",e[2]),y(o,"class","name svelte-b5fgg6"),y(c,"class","maps svelte-b5fgg6"),y(n,"class","root svelte-b5fgg6")},m(t,e){u(t,n,e),i(n,o),i(o,s),i(s,r),i(n,l),i(n,c),i(c,a),i(c,p)},p(t,[e]){1&e&&v(r,t[0]),4&e&&y(s,"href",t[2]),2&e&&v(a,t[1])},i:t,o:t,d(t){t&&f(n)}}}function me(t,e,n){let{name:o}=e,{mapCount:s}=e,{href:r}=e;return t.$set=t=>{"name"in t&&n(0,o=t.name),"mapCount"in t&&n(1,s=t.mapCount),"href"in t&&n(2,r=t.href)},[o,s,r]}class he extends U{constructor(t){super(),Q(this,t,me,de,l,{name:0,mapCount:1,href:2})}}function ge(t,e,n){const o=t.slice();return o[7]=e[n],o}function $e(e){let n;return{c(){n=d("p"),n.textContent="Loading tournament data..."},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&f(n)}}}function ye(t){let e,n,o,s,r,l,c,a,g,$,b,x,w,k,C,I,L=t[3].name+"",S=t[3].stages.length+"",j=Object.keys(t[3].players).length+"";const q=new st({props:{backHref:"#/"}});q.$on("search",t[4]);let E=t[3].stages,_=[];for(let e=0;e<E.length;e+=1)_[e]=ve(ge(t,E,e));const R=t=>z(_[t],1,1,()=>{_[t]=null}),N=new pe({props:{players:t[1]}});return{c(){W(q.$$.fragment),e=h(),n=d("h1"),o=m(L),s=h(),r=d("h2"),l=m(S),c=m(" stages"),a=h(),g=d("div");for(let t=0;t<_.length;t+=1)_[t].c();$=h(),b=d("h2"),x=m(j),w=m(" players"),k=h(),C=d("div"),W(N.$$.fragment),y(g,"class","stages svelte-wv5a2v"),y(C,"class","players")},m(t,f){G(q,t,f),u(t,e,f),u(t,n,f),i(n,o),u(t,s,f),u(t,r,f),i(r,l),i(r,c),u(t,a,f),u(t,g,f);for(let t=0;t<_.length;t+=1)_[t].m(g,null);u(t,$,f),u(t,b,f),i(b,x),i(b,w),u(t,k,f),u(t,C,f),G(N,C,null),I=!0},p(t,e){if((!I||8&e)&&L!==(L=t[3].name+"")&&v(o,L),(!I||8&e)&&S!==(S=t[3].stages.length+"")&&v(l,S),9&e){let n;for(E=t[3].stages,n=0;n<E.length;n+=1){const o=ge(t,E,n);_[n]?(_[n].p(o,e),M(_[n],1)):(_[n]=ve(o),_[n].c(),M(_[n],1),_[n].m(g,null))}for(A(),n=E.length;n<_.length;n+=1)R(n);V()}(!I||8&e)&&j!==(j=Object.keys(t[3].players).length+"")&&v(x,j);const n={};2&e&&(n.players=t[1]),N.$set(n)},i(t){if(!I){M(q.$$.fragment,t);for(let t=0;t<E.length;t+=1)M(_[t]);M(N.$$.fragment,t),I=!0}},o(t){z(q.$$.fragment,t),_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)z(_[t]);z(N.$$.fragment,t),I=!1},d(t){J(q,t),t&&f(e),t&&f(n),t&&f(s),t&&f(r),t&&f(a),t&&f(g),p(_,t),t&&f($),t&&f(b),t&&f(k),t&&f(C),J(N)}}}function ve(t){let n;const o=[t[7],{href:`#/tournaments/${t[0]}/stages/${t[7].id}`}];let s={};for(let t=0;t<o.length;t+=1)s=e(s,o[t]);const r=new he({props:s});return{c(){W(r.$$.fragment)},m(t,e){G(r,t,e),n=!0},p(t,e){const n=9&e?T(o,[8&e&&D(t[7]),{href:`#/tournaments/${t[0]}/stages/${t[7].id}`}]):{};r.$set(n)},i(t){n||(M(r.$$.fragment,t),n=!0)},o(t){z(r.$$.fragment,t),n=!1},d(t){J(r,t)}}}function be(t){let e,n,o,s;const r=[ye,$e],l=[];function c(t,e){return t[2]?1:0}return n=c(t),o=l[n]=r[n](t),{c(){e=d("main"),o.c(),y(e,"class","svelte-wv5a2v")},m(t,o){u(t,e,o),l[n].m(e,null),s=!0},p(t,[s]){let a=n;n=c(t),n===a?l[n].p(t,s):(A(),z(l[a],1,1,()=>{l[a]=null}),V(),o=l[n],o||(o=l[n]=r[n](t),o.c()),M(o,1),o.m(e,null))},i(t){s||(M(o),s=!0)},o(t){z(o),s=!1},d(t){t&&f(e),l[n].d()}}}function xe(t,e,n){let o;c(t,tt,t=>n(3,o=t));let s,r,{id:l}=e,{query:a}=e,i=!0;function u(t){const e=t.detail;if(e){let[,t]=e.match(/country=(.*)/i)||[];n(1,r=t?s.filter(e=>e.country.toLowerCase().includes(t.toLowerCase())):s.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())))}else n(1,r=s)}return k(async()=>{if(!o||o.id!=l)try{tt.set(null);const t=await fetch(`data/${l}.json`);tt.set(await t.json())}catch{location.hash=""}s=Object.values(o.players),n(1,r=s),a&&u(a),n(2,i=!1)}),t.$set=t=>{"id"in t&&n(0,l=t.id),"query"in t&&n(5,a=t.query)},[l,r,i,o,u,a]}class we extends U{constructor(t){super(),Q(this,t,xe,be,l,{id:0,query:5})}}function ke(e){let n,o,s,r,l,c,a,p,g;return{c(){n=d("div"),o=d("div"),s=d("a"),r=m(e[0]),c=h(),a=d("div"),p=m(e[2]),g=m(" players"),y(s,"href",l="#/tournaments/"+e[1]),y(o,"class","name svelte-1lh8f59"),y(a,"class","players svelte-1lh8f59"),y(n,"class","root svelte-1lh8f59")},m(t,e){u(t,n,e),i(n,o),i(o,s),i(s,r),i(n,c),i(n,a),i(a,p),i(a,g)},p(t,[e]){1&e&&v(r,t[0]),2&e&&l!==(l="#/tournaments/"+t[1])&&y(s,"href",l),4&e&&v(p,t[2])},i:t,o:t,d(t){t&&f(n)}}}function Ce(t,e,n){let{name:o}=e,{id:s}=e,{playersCount:r}=e;return t.$set=t=>{"name"in t&&n(0,o=t.name),"id"in t&&n(1,s=t.id),"playersCount"in t&&n(2,r=t.playersCount)},[o,s,r]}class Ie extends U{constructor(t){super(),Q(this,t,Ce,ke,l,{name:0,id:1,playersCount:2})}}function Le(t,e,n){const o=t.slice();return o[1]=e[n],o}function Se(t){let e;return{c(){e=d("p"),e.textContent="Loading tournaments..."},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function je(t){let n;const o=[t[1]];let s={};for(let t=0;t<o.length;t+=1)s=e(s,o[t]);const r=new Ie({props:s});return{c(){W(r.$$.fragment)},m(t,e){G(r,t,e),n=!0},p(t,e){const n=1&e?T(o,[D(t[1])]):{};r.$set(n)},i(t){n||(M(r.$$.fragment,t),n=!0)},o(t){z(r.$$.fragment,t),n=!1},d(t){J(r,t)}}}function qe(t){let e,n,o,s,r,l,c,a=t[0],m=[];for(let e=0;e<a.length;e+=1)m[e]=je(Le(t,a,e));const g=t=>z(m[t],1,1,()=>{m[t]=null});let $=null;return a.length||($=Se()),{c(){e=d("main"),n=d("h1"),n.textContent="Welcome!",o=h(),s=d("p"),s.textContent="Below are the available tournaments",r=h(),l=d("div");for(let t=0;t<m.length;t+=1)m[t].c();$&&$.c(),y(l,"class","tournaments svelte-saxtqp"),y(e,"class","svelte-saxtqp")},m(t,a){u(t,e,a),i(e,n),i(e,o),i(e,s),i(e,r),i(e,l);for(let t=0;t<m.length;t+=1)m[t].m(l,null);$&&$.m(l,null),c=!0},p(t,[e]){if(1&e){let n;for(a=t[0],n=0;n<a.length;n+=1){const o=Le(t,a,n);m[n]?(m[n].p(o,e),M(m[n],1)):(m[n]=je(o),m[n].c(),M(m[n],1),m[n].m(l,null))}for(A(),n=a.length;n<m.length;n+=1)g(n);V(),a.length?$&&($.d(1),$=null):$||($=Se(),$.c(),$.m(l,null))}},i(t){if(!c){for(let t=0;t<a.length;t+=1)M(m[t]);c=!0}},o(t){m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)z(m[t]);c=!1},d(t){t&&f(e),p(m,t),$&&$.d()}}}function Ee(t,e,n){let o;return c(t,Z,t=>n(0,o=t)),k(async()=>{if(!o.length){const t=await fetch("data/tournaments.json");Z.set(await t.json())}}),[o]}class _e extends U{constructor(t){super(),Q(this,t,Ee,qe,l,{})}}function Re(e){let n;const o=new _e({});return{c(){W(o.$$.fragment)},m(t,e){G(o,t,e),n=!0},p:t,i(t){n||(M(o.$$.fragment,t),n=!0)},o(t){z(o.$$.fragment,t),n=!1},d(t){J(o,t)}}}function Ne(t){let e;const n=new we({props:{id:t[1],query:t[3]}});return{c(){W(n.$$.fragment)},m(t,o){G(n,t,o),e=!0},p(t,e){const o={};2&e&&(o.id=t[1]),8&e&&(o.query=t[3]),n.$set(o)},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){z(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Fe(t){let e;const n=new se({props:{id:t[2],tournamentId:t[1],query:t[3]}});return{c(){W(n.$$.fragment)},m(t,o){G(n,t,o),e=!0},p(t,e){const o={};4&e&&(o.id=t[2]),2&e&&(o.tournamentId=t[1]),8&e&&(o.query=t[3]),n.$set(o)},i(t){e||(M(n.$$.fragment,t),e=!0)},o(t){z(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Oe(t){let e,n,o,s;const r=[Fe,Ne,Re],l=[];function c(t,e){return t[1]&&t[2]?0:t[1]?1:t[0]?2:-1}return~(e=c(t))&&(n=l[e]=r[e](t)),{c(){n&&n.c(),o=g()},m(t,n){~e&&l[e].m(t,n),u(t,o,n),s=!0},p(t,[s]){let a=e;e=c(t),e===a?~e&&l[e].p(t,s):(n&&(A(),z(l[a],1,1,()=>{l[a]=null}),V()),~e?(n=l[e],n||(n=l[e]=r[e](t),n.c()),M(n,1),n.m(o.parentNode,o)):n=null)},i(t){s||(M(n),s=!0)},o(t){z(n),s=!1},d(t){~e&&l[e].d(t),t&&f(o)}}}function He(t,e,n){let o,s,r,l;const c=()=>{n(0,o=location.hash.slice(1)||"/");const[,t,e,c,a]=o.split("/"),[i,u]=(a||"").split("?");n(3,[,l]=(u||"").split("q="),l),n(1,s="tournaments"===t?e:null),n(2,r="stages"===c?i:null)};var a;return k(()=>{c(),window.addEventListener("hashchange",c)}),a=()=>{window.removeEventListener("hashchange",c)},w().$$.on_destroy.push(a),[o,s,r,l]}return new class extends U{constructor(t){super(),Q(this,t,He,Oe,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
